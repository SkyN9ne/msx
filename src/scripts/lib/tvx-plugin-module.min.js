/*
 * TVX Plugin v0.0.44 (Module)
 * (c) 2020 Benjamin Zachey
 * Compatibility: AMD and CommonJS
 */
(function(a,b){if(typeof define=="function"&&define.amd){define([],b)}else{if(typeof module=="object"&&module.exports){module.exports=b()}else{a.tvx=b()}}}(this,function(){var k={NAME:"TVX Framework",SHORTCUT:"TVX",VERSION:"0.1.19",DUMMY_DATE:null,TIME_OFFSET:0,TIME_ZONE_OFFSET:0,ANIMATION_DURATION:300,ANIMATION_EASE:"easeOutQuad",SCREEN_WIDTH:1280,SCREEN_HEIGHT:720,SCREEN_FACTOR:1,ZOOM_FACTOR:1,PLATFORM:null,ANIMATE:0,TRANSFORM:0,INPUT:0,REMOTE:0,LAYOUT:null,SCALE:null,ZOOM:null,CENTER:0,BACKGROUND:0,EXIT:0,BACK:0,VOLUME:0,BUSY:0,SPEED:0,PLAYBACK:0,FULLSCREEN:0,APP:null};var E={COMMON:{IMAGE:{DEFAULT:"img/default.png"},ICON:{DEFAULT:"blank"},TEXT:{DEFAULT:""},COLOR:{WHITE:"rgb(255,255,255)",WHITE_SOFT:"rgba(255,255,255,0.5)",BLACK:"rgb(0,0,0)",BLACK_SOFT:"rgba(0,0,0,0.5)",GRAY:"rgb(51,51,51)",GRAY_SOFT:"rgba(51,51,51,0.5)",RED:"rgb(201,48,44)",GREEN:"rgb(68,157,68)",YELLOW:"rgb(236,151,31)",BLUE:"rgb(49,176,213)",GLASS:"rgba(255,255,255,0.1)"},CSS:{CLASS_SELECTED:"selected",CLASS_TRIGGER:"trigger",CLASS_FOCUSED:"focused",CLASS_DISABLED:"disabled",CLASS_INVALIDATED:"invalidated",CLASS_HOVER:"hover",CLASS_ROOT:"tvx-root",CLASS_TOP_LAYER:"tvx-top-layer",CLASS_BOTTOM_LAYER:"tvx-bottom-layer",CLASS_FULLSCREEN:"tvx-fullscreen",CLASS_VIDEO:"tvx-video",CLASS_VIDEO_ON:"tvx-video-on",CLASS_CENTER_OFF:"tvx-center-off",CLASS_BACKGROUND_OFF:"tvx-background-off",CLASS_CLICK_THROUGH:"tvx-click-through",CLASS_FILLER:"tvx-filler",CLASS_FILLER_WIDTH_TOP:"tvx-filler-width-top",CLASS_FILLER_WIDTH_BOTTOM:"tvx-filler-width-bottom",CLASS_FILLER_WIDTH_CENTER:"tvx-filler-width-center",CLASS_FILLER_HEIGHT_LEFT:"tvx-filler-height-left",CLASS_FILLER_HEIGHT_RIGHT:"tvx-filler-height-right",CLASS_FILLER_HEIGHT_CENTER:"tvx-filler-height-center",CLASS_FILLER_FIT:"tvx-filler-fit",CLASS_FILLER_COVER:"tvx-filler-cover",CLASS_FILLER_SMART:"tvx-filler-smart",CLASS_ICON:"tvx-icon tvx-icon-{ICON}",CLASS_ICON_INLINE:"tvx-icon-inline tvx-icon-{ICON}",CLASS_TEXT:"tvx-text",CLASS_TEXT_INLINE:"tvx-text-inline"},HTML:{BREAK:"<br/>",SPACE:"&nbsp;",TAB:"&nbsp;&nbsp;&nbsp;",CANVAS:"<canvas class='{CLASS}' width='{WIDTH}' height='{HEIGHT}'></canvas>",IFRAME:"<iframe class='{CLASS}' frameBorder='0' scrolling='no' allow='autoplay *;encrypted-media *' src='{SRC}'></iframe>",ICON:"<i class='{CLASS}'></i>",ICON_STYLED:"<i class='{CLASS}' style='{STYLE}'></i>",TEXT:"<span class='{CLASS}'>{TEXT}</span>",TEXT_STYLED:"<span class='{CLASS}' style='{STYLE}'>{TEXT}</span>",TEXT_START:"<span class='{CLASS}'>",TEXT_START_STYLED:"<span class='{CLASS}' style='{STYLE}'>",TEXT_END:"</span>"}},LOGGER:{CSS:{CLASS_DEBUG:"tvx-debug",CLASS_INFO:"tvx-info",CLASS_WARN:"tvx-warn",CLASS_ERROR:"tvx-error"},HTML:{LINE:"<span class='{LEVEL}'>{MESSAGE}</span>"}},RENDERER:{CSS:{CLASS_TRANSFORM:"tvx-transform",CLASS_TRANSFORM_ZERO:"tvx-transform-zero",CLASS_TRANSFORM_3D:"tvx-transform-3d",CLASS_TRANSFORM_3D_ZERO:"tvx-transform-3d-zero"},STATE:{SHOW:{visible:true},HIDE:{visible:false},FADE_IN_FROM:{opacity:0},FADE_IN_TO:{opacity:1,visible:true},FADE_OUT_FROM:{opacity:1},FADE_OUT_TO:{opacity:0,visible:false}}},REMOTE:{CSS:{CLASS_BUTTON:"tvx-button",CLASS_SUBCONTROL_LEFT:"tvx-subcontrol-left",CLASS_SUBCONTROL_RIGHT:"tvx-subcontrol-right"}},APP:null};
var B=new function(){var N=/\\/g;var aa=/"/g;var P=/'/g;var au=/\n/g;var ar=/\r/g;var L=/\r\n/g;var ap=/\t/g;var U=/\s/g;var X=/-/g;var Y=/^[A-Za-z0-9._-]+$/;var ai=/[^,:{}\[\]0-9.\-+Eaeflnr-u \n\r\t]/;var ao=/"(\\.|[^"\\])*"/g;var aq=/^\s+|\s+$/g;var ab=/\s{0,}>\s{0,}/g;var ad=/\s{0,}\/>/g;var ac=/\s{0,}<\s{0,}/g;var af=au;var ae=ar;var ah=/\s{2,}/g;var H=/&/g;var T=aa;var M=P;var Z=/</g;var R=/>/g;var al=/&quot;/g;var ak=/&#39;/g;var aj=/&lt;/g;var an=/&gt;/g;var am=/&amp;/g;var I=/\+/g;var K=/\//g;var J=/=/g;var O=/[^A-Za-z0-9\+\/\=]/g;var Q=X;var ag=/_/g;var av=/,/g;var V=/\./g;var S="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";var W=window.location.protocol==="https:";var at=function(aw,ay){if(aw&&ay){var ax=window.location.pathname;ax=ax.substring(0,ax.lastIndexOf("/"));return window.location.protocol+"//"+window.location.host+ax}else{if(aw){return window.location.protocol+"//"+window.location.host}}return window.location.protocol+"//"};this.createVersion=function(ay){if(this.isFullStr(ay)){var aA=ay.split(".");
if(aA.length==3){var ax=this.strToNum(aA[0],-1);var aw=this.strToNum(aA[1],-1);var az=this.strToNum(aA[2],-1);if(ax>=0&&aw>=0&&az>=0){return{major:ax,minor:aw,patch:az}}}}return null};this.checkVersion=function(az,ay){var ax=this.createVersion(ay);if(ax!=null){var aw=this.createVersion(az);if(aw!=null){if(aw.major==ax.major){if(aw.minor==ax.minor){return aw.patch>=ax.patch}return aw.minor>ax.minor}return aw.major>ax.major}return false}return true};this.createKey=function(aA,ay){if(aA==null){aA=4}if(ay==null){ay=10}var ax="";for(var az=0;az<aA;az++){var aw=0;if(ay==0){aw=Math.round(Math.random()*9)}else{if(ay==1){aw=10+Math.round(Math.random()*51)}else{if(ay==2){aw=10+Math.round(Math.random()*25)}else{if(ay==3){aw=36+Math.round(Math.random()*25)}else{aw=Math.round(Math.random()*61)}}}}if(aw>=0&&aw<=9){ax+=""+aw}if(aw>=10&&aw<=35){ax+=String.fromCharCode(aw+55)}if(aw>=36&&aw<=61){ax+=String.fromCharCode(aw+61)}}return ax};this.isFullStr=function(aw){return aw!=null&&typeof aw=="string"&&aw.length>0
};this.isBool=function(aw){if(aw!=null&&typeof aw=="boolean"){return true}return this.isFullStr(aw)};this.isNum=function(aw){if(aw!=null&&typeof aw=="number"){return true}return this.isFullStr(aw)&&isFinite(aw)};this.isArray=function(aw){if(aw!=null){return Array.isArray(aw)}return false};this.isEmpty=function(ax){if(ax!=null){if(typeof ax=="string"){return ax.length==0}var aw;for(aw in ax){return false}}return true};this.isValid=function(ax,aw){if(ax!=null){if(aw===true){if(typeof ax=="string"){return ax.length>0}}return true}return false};this.isId=function(aw){return this.isFullStr(aw)&&Y.test(aw)};this.isJson=function(aw){return this.isFullStr(aw)&&!ai.test(aw.replace(ao,""))};this.isHttpUrl=function(aw){return this.isFullStr(aw)&&(aw.indexOf("http://")==0||aw.indexOf("https://")==0)};this.strValue=function(aw){if(aw!=null){if(typeof aw=="string"){return aw}else{return""+aw}}return null};this.strFullCheck=function(ax,aw){return this.isFullStr(ax)?ax:aw};this.strTrim=function(aw){return this.isFullStr(aw)?aw.replace(aq,""):""
};this.strClear=function(aw){return this.isFullStr(aw)?aw.replace(U,""):""};this.strTruncate=function(aw,ax){return this.isFullStr(aw)&&ax>0&&aw.length>ax?aw.substr(0,ax)+"...":aw};this.strShuffle=function(aw){return this.isFullStr(aw)?aw.split("").sort(function(){return 0.5-Math.random()}).join(""):""};this.strReplace=function(ax,ay,aw){if(this.isFullStr(ax)&&this.isFullStr(ay)){return ax.replace(ay,function(){return aw!=null?aw:""})}return ax};this.strReplaceMap=function(ax,ay){if(this.isFullStr(ax)&&ay!=null){for(var aw in ay){ax=this.strReplace(ax,aw,ay[aw])}}return ax};this.strToBool=function(ax,aw){if(ax!=null&&typeof ax=="boolean"){return ax}return this.isFullStr(ax)?ax=="true":aw};this.strToNum=function(ax,aw){if(ax!=null&&typeof ax=="number"){return ax}return this.isFullStr(ax)&&isFinite(ax)?ax*1:aw};this.strToAction=function(aw){return this.isFullStr(aw)?aw.toUpperCase().replace(X,"_"):""};this.strToJsonStr=function(aw){return this.isFullStr(aw)?aw.replace(aa,'\\"'):""};this.strToUrlStr=function(aw){return this.isFullStr(aw)?encodeURIComponent(aw):""
};this.strContainsToken=function(ay,az,aw,aA){if(this.isFullStr(ay)&&this.isFullStr(az)){var ax=ay.indexOf(az);if(aw==null){aw=0}if(aA==null){aA=ay.length}return ax>=aw&&ax<aA}return false};this.strCountToken=function(az,aA,ax,aB){var aw=0;if(this.isFullStr(az)&&this.isFullStr(aA)){var ay=0;if(ax!=null&&ax>=0){ay=ax}while(ay>=0&&ay<az.length){ay=az.indexOf(aA,ay);if(ay>=0){ay+=aA.length;if(aB==null||ay<aB){aw++}}}}return aw};this.htmlTrim=function(aw){return this.isFullStr(aw)?this.strTrim(aw.replace(ab,">").replace(ad,"/>").replace(ac,"<").replace(af," ").replace(ae," ").replace(ah," ")):""};this.htmlEscape=function(aw){return this.isFullStr(aw)?aw.replace(H,"&amp;").replace(T,"&quot;").replace(M,"&#39;").replace(Z,"&lt;").replace(R,"&gt;"):""};this.htmlUnescape=function(aw){return this.isFullStr(aw)?aw.replace(al,'"').replace(ak,"'").replace(aj,"<").replace(an,">").replace(am,"&"):""};this.htmlAttrEscape=function(aw){return this.isFullStr(aw)?aw.replace(T,"&quot;").replace(M,"&#39;"):""
};this.htmlAttrUnescape=function(aw){return this.isFullStr(aw)?aw.replace(al,'"').replace(ak,"'"):""};this.htmlTextEscape=function(aw){return this.isFullStr(aw)?this.htmlEscape(aw).replace(au,E.COMMON.HTML.BREAK).replace(ap,E.COMMON.HTML.TAB):""};this.base64Encode=function(aE){var az="";if(this.isFullStr(aE)){var aF,aA,aC;var ay,aD,ax,aB;var aw=0;aE=this.utf8Encode(aE);while(aw<aE.length){aF=aE.charCodeAt(aw++);aA=aE.charCodeAt(aw++);aC=aE.charCodeAt(aw++);ay=aF>>2;aD=((aF&3)<<4)|(aA>>4);ax=((aA&15)<<2)|(aC>>6);aB=aC&63;if(isNaN(aA)){ax=aB=64}else{if(isNaN(aC)){aB=64}}az+=S.charAt(ay)+S.charAt(aD)+S.charAt(ax)+S.charAt(aB)}}return az};this.base64EncodeUrl=function(aw){return this.isFullStr(aw)?this.base64Encode(aw).replace(I,"-").replace(K,"_").replace(J,","):""};this.base64EncodeId=function(aw){return this.isFullStr(aw)?this.base64Encode(aw).replace(I,"-").replace(K,"_").replace(J,"."):""};this.base64Decode=function(aE){var az="";if(this.isFullStr(aE)){var aF,aA,aC;var ay,aD,ax,aB;var aw=0;
aE=aE.replace(O,"");while(aw<aE.length){ay=S.indexOf(aE.charAt(aw++));aD=S.indexOf(aE.charAt(aw++));ax=S.indexOf(aE.charAt(aw++));aB=S.indexOf(aE.charAt(aw++));aF=(ay<<2)|(aD>>4);aA=((aD&15)<<4)|(ax>>2);aC=((ax&3)<<6)|aB;az+=String.fromCharCode(aF);if(ax!=64){az+=String.fromCharCode(aA)}if(aB!=64){az+=String.fromCharCode(aC)}}}return this.utf8Decode(az)};this.base64DecodeUrl=function(aw){return this.isFullStr(aw)?this.base64Decode(aw.replace(Q,"+").replace(ag,"/").replace(av,"=")):""};this.base64DecodeId=function(aw){return this.isFullStr(aw)?this.base64Decode(aw.replace(Q,"+").replace(ag,"/").replace(V,"=")):""};this.utf8Encode=function(az){var ax="";if(this.isFullStr(az)){az=az.replace(L,"\n");for(var aw=0;aw<az.length;aw++){var ay=az.charCodeAt(aw);if(ay<128){ax+=String.fromCharCode(ay)}else{if((ay>127)&&(ay<2048)){ax+=String.fromCharCode((ay>>6)|192);ax+=String.fromCharCode((ay&63)|128)}else{ax+=String.fromCharCode((ay>>12)|224);ax+=String.fromCharCode(((ay>>6)&63)|128);ax+=String.fromCharCode((ay&63)|128)
}}}}return ax};this.utf8Decode=function(aA){var ax="";if(this.isFullStr(aA)){var aB=0;var ay,az,aC,aw;ay=az=aC=aw=0;while(aB<aA.length){ay=aA.charCodeAt(aB);if(ay<128){ax+=String.fromCharCode(ay);aB++}else{if((ay>191)&&(ay<224)){aC=aA.charCodeAt(aB+1);ax+=String.fromCharCode(((ay&31)<<6)|(aC&63));aB+=2}else{aC=aA.charCodeAt(aB+1);aw=aA.charCodeAt(aB+2);ax+=String.fromCharCode(((ay&15)<<12)|((aC&63)<<6)|(aw&63));aB+=3}}}}return ax};this.createHash=function(ay,ax){var aw=0;if(this.isFullStr(ay)){if(ax===true){for(var az=ay.length;az>=0;az--){aw=((aw<<5)-aw)+ay.charCodeAt(az);aw&=aw}}else{for(var az=0;az<ay.length;az++){aw=((aw<<5)-aw)+ay.charCodeAt(az);aw&=aw}}}return aw};this.serialize=function(aw,aA){if(aw===undefined){return null}if(aw===null){if(aA!=null){return'"'+aA+'":null'}else{return"null"}}var aB=null;var ay=typeof aw;if(Array.isArray(aw)){aB="[";var az=0;for(var aD=0;aD<aw.length;aD++){var ax=this.serialize(aw[aD]);if(ax!=null){if(az>0){aB+=","}aB+=ax;az++}}aB+="]"}else{if(ay=="object"){aB="{";
var az=0;for(var aC in aw){var ax=this.serialize(aw[aC],aC);if(ax!=null){if(az>0){aB+=","}aB+=ax;az++}}aB+="}"}else{if(ay=="string"){aB='"'+aw.replace(N,"\\\\").replace(aa,'\\"').replace(au,"\\n")+'"'}else{if(ay=="number"||ay=="boolean"){aB=""+aw}}}}if(aB!=null){if(aA!=null){return'"'+aA+'":'+aB}else{return aB}}return null};this.deserialize=function(aw){try{if(window.JSON!=null&&typeof JSON.parse=="function"){return this.isFullStr(aw)?JSON.parse(aw):null}else{return this.isJson(aw)?new Function("return "+aw)():null}}catch(ax){return null}};this.isSecureContext=function(){return W};this.secureUrl=function(aw){return this.isFullStr(aw)?aw.replace("http://","https://"):aw};this.getPrefixUrl=function(aw){return at(false,false)+this.strFullCheck(aw,"")};this.getHostUrl=function(aw){return at(true,false)+"/"+this.strFullCheck(aw,"")};this.getPathUrl=function(aw){return at(true,true)+"/"+this.strFullCheck(aw,"")};this.getAbsoluteUrl=function(aw){if(this.isFullStr(aw)&&!this.isHttpUrl(aw)){if(aw.indexOf("/")==0){return at(true,false)+aw
}else{return at(true,true)+"/"+aw}}return aw};this.getRootPath=function(aw,aA){if(this.isFullStr(aw)){var az=window.location.pathname;var ay=az.indexOf(aw);if(ay>0){var ax=az.substr(0,ay);if(aA===true){if(ax.indexOf("/")==0){ax=ax.substr(1)}if(ax.lastIndexOf("/")==ax.length-1){ax=ax.substr(0,ax.length-1)}}else{if(ax.indexOf("/")!=0){ax="/"+ax}if(ax.lastIndexOf("/")!=ax.length-1){ax+="/"}}return ax}}return aA===true?"":"/"};this.exprEscape=function(aD,aC,aI,aJ,aE,aH,az){if(this.isFullStr(aD)&&typeof aJ=="function"){if(this.isFullStr(aC)&&this.isFullStr(aI)&&typeof aE=="function"){if(aD.indexOf(aC)>=0&&aD.indexOf(aI)>=0){var aw="";var ax=aC.length;var aB=aI.length;var aF=aD.length;var aG=0;var aA=0;var ay=0;while(aA>=0){aA=aD.indexOf(aC,aG);if(aA>=0){ay=aD.indexOf(aI,aA);if(ay>0){if(aG<aA){aw+=aJ(aD.substring(aG,aA),az)}if(aA+ax<ay){aw+=aE(aD.substring(aA+ax,ay),az)}aG=ay+aB}else{aG=aA;break}}}if(aG<aF){aw+=aJ(aD.substring(aG,aF),az)}if(typeof aH=="function"){aw+=aH(az)}return aw}}return aJ(aD,az)
}return""}};var q=new function(){var M="h:mm/ampm";var R="h:mm:ss/ampm";var H="mm/dd/yy";var K="MM d, yyyy";var S="D mm/dd";var I="D mm/dd/yyyy";var O="DD, MM d, yyyy";var J=", ";var Z=["Son","Mon","Tue","Wed","Thu","Fri","Sat"];var Q=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];var Y=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];var T=["January","February","March","April","May","June","July","August","September","October","November","December"];var U=" AM";var aa=" PM";var W=" day";var V=" days";var P=" hr";var N=" min";var L=" sec";var X=function(ac){var ae=ac%10;var ad=ac%100;if(ae==1&&ad!=11){return"st"}if(ae==2&&ad!=12){return"nd"}if(ae==3&&ad!=13){return"rd"}return"th"};var ab=function(ae,af,ac){if(af.length==ac){for(var ad=0;ad<ac;ad++){ae[ad]=B.strTrim(af[ad])}}};this.applyDictionary=function(ag){if(ag!=null){M=ag.getValueForKey("format:time",M);R=ag.getValueForKey("format:long_time",R);H=ag.getValueForKey("format:date",H);
K=ag.getValueForKey("format:long_date",K);S=ag.getValueForKey("format:day",S);I=ag.getValueForKey("format:long_day",I);O=ag.getValueForKey("format:full_day",O);J=ag.getValueForKey("format:separator",J);U=ag.getValueForKey("unit:am",U);aa=ag.getValueForKey("unit:pm",aa);W=ag.getValueForKey("unit:day",W);V=ag.getValueForKey("unit:days",V);P=ag.getValueForKey("unit:hours",P);N=ag.getValueForKey("unit:minutes",N);L=ag.getValueForKey("unit:seconds",L);var af=ag.getValueForKey("list:day_names","").split(",");var ad=ag.getValueForKey("list:day_long_names","").split(",");var ac=ag.getValueForKey("list:month_names","").split(",");var ae=ag.getValueForKey("list:month_long_names","").split(",");ab(Z,af,Z.length);ab(Q,ad,Q.length);ab(Y,ac,Y.length);ab(T,ae,T.length)}};this.getTimestamp=function(){return new Date().getTime()};this.getNow=function(){var ac=new Date();if(k.DUMMY_DATE!=null){ac=new Date(k.DUMMY_DATE.getFullYear(),k.DUMMY_DATE.getMonth(),k.DUMMY_DATE.getDate(),ac.getHours(),ac.getMinutes(),ac.getSeconds())
}if(k.TIME_OFFSET!=null&&k.TIME_OFFSET!=0){if(k.TIME_ZONE_OFFSET!=null&&k.TIME_ZONE_OFFSET!=0){return new Date(ac.getTime()+k.TIME_OFFSET+k.TIME_ZONE_OFFSET)}else{return new Date(ac.getTime()+k.TIME_OFFSET)}}else{if(k.TIME_ZONE_OFFSET!=null&&k.TIME_ZONE_OFFSET!=0){return new Date(ac.getTime()+k.TIME_ZONE_OFFSET)}}return ac};this.getFormatSeparator=function(){return J};this.getFormattedDateStr=function(at,aq,ac,an,ap){var af=0;var ag=0;var ao=0;var ah=0;var aj=0;if(at==null){at=new Date(ac,an,ap)}if(typeof at=="number"){at=new Date(at)}af=at.getDate();ag=at.getDay();ao=at.getMonth()+1;ah=at.getMonth();aj=at.getYear()+1900;var au=aq.replace("ddd",af+X(af)).replace("dd",(af<10?"0":"")+af).replace("mm",((ao<10)?"0":"")+ao).replace("yyyy",aj).replace("d",af).replace("m",ao).replace("yy",(""+aj).substring(2,4));var ae=au.indexOf("D");var am=au.indexOf("DD");var al=au.indexOf("M");var ad=au.indexOf("MM");if(am>=0&&al<0){return au.replace("DD",Q[ag])}else{if(ae>=0&&al<0){return au.replace("D",Z[ag])
}else{if(ad>=0&&ae<0){return au.replace("MM",T[ah])}else{if(al>=0&&ae<0){return au.replace("M",Y[ah])}else{if(ae>=0&&al>=0){var ai=null;var ar=null;var ak=null;if(am>=0){ai=au.substring(0,am);ar=Q[ag];ak=au.substring(am+2,au.length)}else{if(ae>=0){ai=au.substring(0,ae);ar=Z[ag];ak=au.substring(ae+1,au.length)}}if(ae>al){if(ai.indexOf("MM")>=0){ai=ai.replace("MM",T[ah])}else{if(ai.indexOf("M")>=0){ai=ai.replace("M",Y[ah])}}}else{if(ak.indexOf("MM")>=0){ak=ak.replace("MM",T[ah])}else{if(ak.indexOf("M")>=0){ak=ak.replace("M",Y[ah])}}}return ai+ar+ak}}}}}return au};this.getDayStr=function(ae,ad,ac,af){return this.getFormattedDateStr(ae,S,ad,ac,af)};this.getDayLongStr=function(ae,ad,ac,af){return this.getFormattedDateStr(ae,I,ad,ac,af)};this.getDayFullStr=function(ae,ad,ac,af){return this.getFormattedDateStr(ae,O,ad,ac,af)};this.getDateStr=function(ae,ad,ac,af){return this.getFormattedDateStr(ae,H,ad,ac,af)};this.getDateLongStr=function(ae,ad,ac,af){return this.getFormattedDateStr(ae,K,ad,ac,af)
};this.getFormattedTimeStr=function(ae,ak,al,af,ag){var aj=0;var ah=0;var ac=0;if(ae==null){aj=al!=null?al*1:0;ah=af!=null?af*1:0;ac=ag!=null?ag*1:0}else{if(typeof ae=="number"){ae=new Date(ae)}aj=ae.getHours();ah=ae.getMinutes();ac=ae.getSeconds()}var ai=null;var ad=ak.indexOf("/ampm");if(ad>0){ak=ak.substr(0,ad);ai=U;if(aj>12){ai=aa;aj-=12}}return ak.replace("hh",(aj<10?"0":"")+aj).replace("mm",(ah<10?"0":"")+ah).replace("ss",(ac<10?"0":"")+ac).replace("h",aj).replace("m",ah).replace("s",ac)+(ai!=null?ai:"")};this.getTimeStr=function(ae,af,ac,ad){return this.getFormattedTimeStr(ae,M,af,ac,ad)};this.getTimeLongStr=function(ae,af,ac,ad){return this.getFormattedTimeStr(ae,R,af,ac,ad)};this.getRecordingStr=function(ac){if(typeof ac=="number"){ac=new Date(ac)}return this.getDayLongStr(ac)+J+this.getTimeStr(ac)};this.getFormattedDurationStr=function(ad,ag){var ac=Math.floor(ad/3600000);var af=Math.floor((ad%3600000)/60000);var ae=Math.floor((ad%60000)/1000);ag=B.exprEscape(ag,"[","]",function(ah){return ah
},function(ah){if(ah.indexOf("h")==0||ah.indexOf("H")==0){return ac>0?ah:""}else{if(ah.indexOf("m")==0||ah.indexOf("M")==0){return ac>0||af>0?ah:""}else{if(ah.indexOf("s")==0||ah.indexOf("S")==0){return ac>0||af>0||ae>0?ah:""}}}});return ag.replace("H","h").replace("M",(ac>0?"mm":"m")).replace("S",(ac>0||af>0?"ss":"s")).replace("hh",(ac<10?"0":"")+ac).replace("mm",((af<10)?"0":"")+af).replace("ss",((ae<10)?"0":"")+ae).replace("h",ac).replace("m",af).replace("s",ae)};this.getDurationStr=function(ah,at){if(at==null){at="dhms"}var ar=at.indexOf("D")!=-1;var ak=at.indexOf("H")!=-1;var ao=at.indexOf("M")!=-1;var aq=at.indexOf("S")!=-1;at=at.toLowerCase();var an=at.indexOf("d")!=-1;var af=at.indexOf("h")!=-1;var ac=at.indexOf("m")!=-1;var ae=at.indexOf("s")!=-1;if(at.indexOf("~")==0){if(ah<60000){if(ae){at="s"}}else{if(ah<3600000){if(ac){at="m"}else{if(ae){at="s"}}}else{if(ah<86400000){if(af){at="h"}else{if(ac){at="m"}else{if(ae){at="s"}}}}else{if(an){at="d"}else{if(af){at="h"}else{if(ac){at="m"
}else{if(ae){at="s"}}}}}}}}if(at=="d"){var al=Math.round(ah/86400000);return al==1?al+W:al+V}if(at=="h"){return Math.round(ah/3600000)+P}if(at=="m"){return Math.round(ah/60000)+N}if(at=="s"){return Math.round(ah/1000)+L}var ag=ah;var ap=af||ac||ae;var al=an?(ap?Math.floor(ag/86400000):Math.ceil(ag/86400000)):0;if(an){ag=ah%86400000}ap=ac||ae;var am=af?(ap?Math.floor(ag/3600000):Math.ceil(ag/3600000)):0;if(af){ag=ah%3600000}ap=ae;var ai=ac?(ap?Math.floor(ag/60000):Math.ceil(ag/60000)):0;if(ac){ag=ah%60000}var ad=ae?Math.floor(ag/1000):0;var aj="";if(an&&(al>0||ar)){aj+=al+(al==1?W:V)}if(af&&(am>0||ak)){if(aj.length>0){aj+=" "}aj+=am+P}if(ac&&(ai>0||ao)){if(aj.length>0){aj+=" "}aj+=ai+N}if(ae&&(ad>0||aq)){if(aj.length>0){aj+=" "}aj+=ad+L}if(ae&&aj.length==0){return ad+L}if(ac&&aj.length==0){return ai+N}if(af&&aj.length==0){return am+P}return aj};this.getVideoStr=function(ae,af){if(af==null){af=3}var ad=af>2?Math.floor(ae/3600000):0;var ag=af>1?Math.floor((ae%3600000)/60000):0;var ac=af>0?Math.floor(ae%60000/1000):0;
if(af>2){return(ad<10?"0":"")+ad+":"+(ag<10?"0":"")+ag+":"+(ac<10?"0":"")+ac}else{if(af>1){return(ag<10?"0":"")+ag+":"+(ac<10?"0":"")+ac}else{if(af>0){return(ac<10?"0":"")+ac}}}return""}};var y=new function(){this.toTimeStr=function(H){return q.getTimeStr(H)};this.toTimeLongStr=function(H){return q.getTimeLongStr(H)};this.toTimeDayStr=function(H){return q.getFormattedDateStr(H,"D")+q.getFormatSeparator()+q.getTimeStr(H)};this.toTimeDayLongStr=function(H){return q.getFormattedDateStr(H,"D")+q.getFormatSeparator()+q.getTimeLongStr(H)};this.toDayStr=function(H){return q.getDayStr(H)};this.toDayLongStr=function(H){return q.getDayLongStr(H)};this.toDayFullStr=function(H){return q.getDayFullStr(H)};this.toDateStr=function(H){return q.getDateStr(H)};this.toDateLongStr=function(H){return q.getDateLongStr(H)};this.toRecordingStr=function(H){return q.getRecordingStr(H)};this.toDayTimeStr=function(H){return q.getDayStr(H)+q.getFormatSeparator()+q.getTimeStr(H)};this.toDayTimeLongStr=function(H){return q.getDayLongStr(H)+q.getFormatSeparator()+q.getTimeStr(H)
};this.toDayTimeFullStr=function(H){return q.getDayFullStr(H)+q.getFormatSeparator()+q.getTimeStr(H)};this.toDateTimeStr=function(H){return q.getDateStr(H)+q.getFormatSeparator()+q.getTimeStr(H)};this.toDateTimeLongStr=function(H){return q.getDateLongStr(H)+q.getFormatSeparator()+q.getTimeStr(H)}};var d=new function(){this.foreach=function(L,I){if(L!=null&&L.properties!=null&&typeof I=="function"){var K=L.properties;for(var H in K){var J=K[H];if(J!=null){if(J.key!=null){if(J.value!=null){if(I(J.key,J.value)===true){break}}}else{if(I(H,J)===true){break}}}}}};this.getValue=function(L,I,H){if(B.isFullStr(I)){var J=false;var K=null;this.foreach(L,function(N,M){if(!J&&I==N){J=true;K=M;return true}});if(J){return K}}return H!=null?H:null};this.get=function(J,I,H){return B.strValue(this.getValue(J,I,H))};this.getFullStr=function(J,I,H){return B.strFullCheck(this.getValue(J,I),H)};this.getNum=function(J,I,H){return B.strToNum(this.getValue(J,I),H)};this.getBool=function(J,I,H){return B.strToBool(this.getValue(J,I),H)
};this.has=function(J,I,H){return B.isValid(this.getValue(J,I),H)};this.put=function(N,J,I){if(N!=null&&N.properties!=null&&B.isFullStr(J)&&I!=null){var H=false;var L=N.properties;for(var M in L){var K=L[M];if(!H&&K!=null){if(K.key==J){H=true;K.value=I;break}}}if(!H){if(Array.isArray(N.properties)){N.properties.push({key:J,value:I})}else{N.properties[J]=I}}}};this.remove=function(M,I){if(M!=null&&M.properties!=null&&B.isFullStr(I)){var H=false;var K=M.properties;for(var L in K){var J=K[L];if(!H&&J!=null){if(J.key==I){H=true;J.value=null;break}}}if(!H&&!Array.isArray(M.properties)){M.properties[I]=null}}};this.clear=function(H){if(H!=null&&H.properties!=null){H.properties={}}};this.count=function(I){var H=0;this.foreach(I,function(){H++});return H}};var l={STOPPED:1,PLAYING:2,PAUSED:3};var x={LEFT:1,RIGHT:2,UP:3,DOWN:4,EXECUTE:5,EXIT:6,BACK:7,MENU:10,GUIDE:11,OPTIONS:12,INFO:13,CLEAR:14,CHANNEL_LIST:15,SETTINGS:16,SEARCH:17,PLAY:30,PAUSE:31,STOP:32,NEXT_TRACK:33,PREVIOUS_TRACK:34,TOGGLE_PLAY_PAUSE:35,FORWARD:36,REWIND:37,RECORD:38,RESTART:39,MUTE:40,UNMUTE:41,TOGGLE_MUTE:42,CHANNEL_UP:70,CHANNEL_DOWN:71,VOLUME_UP:72,VOLUME_DOWN:73,RED:74,GREEN:75,YELLOW:76,BLUE:77,KEY_0:80,KEY_1:81,KEY_2:82,KEY_3:83,KEY_4:84,KEY_5:85,KEY_6:86,KEY_7:87,KEY_8:88,KEY_9:89,POWER:99,SYSTEM:100,CURSOR_ON:200,CURSOR_OFF:201,SCROLL_UP:300,SCROLL_DOWN:301,SWIPE_LEFT:400,SWIPE_RIGHT:401,SWIPE_UP:402,SWIPE_DOWN:403,SLEEP:500,WAKE_UP:501,DEBUG:999,UNKNOWN:-1,actionToStr:function(H){switch(H){case this.LEFT:return"Left";
case this.RIGHT:return"Right";case this.UP:return"Up";case this.DOWN:return"Down";case this.EXECUTE:return"Execute";case this.EXIT:return"Exit";case this.BACK:return"Back";case this.MENU:return"Menu";case this.GUIDE:return"Guide";case this.OPTIONS:return"Options";case this.INFO:return"Info";case this.CLEAR:return"Clear";case this.CHANNEL_LIST:return"Channel-List";case this.SETTINGS:return"Settings";case this.SEARCH:return"Search";case this.PLAY:return"Play";case this.PAUSE:return"Pause";case this.STOP:return"Stop";case this.NEXT_TRACK:return"Next-Track";case this.PREVIOUS_TRACK:return"Previous-Track";case this.FORWARD:return"Forward";case this.REWIND:return"Rewind";case this.RECORD:return"Record";case this.RESTART:return"Restart";case this.TOGGLE_PLAY_PAUSE:return"Toggle-Play-Pause";case this.MUTE:return"Mute";case this.UNMUTE:return"Unmute";case this.TOGGLE_MUTE:return"Toggle-Mute";case this.CHANNEL_UP:return"Channel-Up";case this.CHANNEL_DOWN:return"Channel-Down";case this.VOLUME_UP:return"Volume-Up";
case this.VOLUME_DOWN:return"Volume-Down";case this.RED:return"Red";case this.GREEN:return"Green";case this.YELLOW:return"Yellow";case this.BLUE:return"Blue";case this.KEY_0:return"Key-0";case this.KEY_1:return"Key-1";case this.KEY_2:return"Key-2";case this.KEY_3:return"Key-3";case this.KEY_4:return"Key-4";case this.KEY_5:return"Key-5";case this.KEY_6:return"Key-6";case this.KEY_7:return"Key-7";case this.KEY_8:return"Key-8";case this.KEY_9:return"Key-9";case this.POWER:return"Power";case this.SYSTEM:return"System";case this.CURSOR_ON:return"Cursor-On";case this.CURSOR_OFF:return"Cursor-Off";case this.SCROLL_UP:return"Scroll-Up";case this.SCROLL_DOWN:return"Scroll-Down";case this.SWIPE_LEFT:return"Swipe-Left";case this.SWIPE_RIGHT:return"Swipe-Right";case this.SWIPE_UP:return"Swipe-Up";case this.SWIPE_DOWN:return"Swipe-Down";case this.SLEEP:return"Sleep";case this.WAKE_UP:return"Wake-Up";case this.DEBUG:return"Debug"}return"Unknown"},strToAction:function(I){var H=this[B.strToAction(I)];return H!=null?H:this.UNKNOWN
},isNavigationAction:function(H){return H==this.LEFT||H==this.RIGHT||H==this.UP||H==this.DOWN||H==this.SCROLL_UP||H==this.SCROLL_DOWN||H==this.SWIPE_LEFT||H==this.SWIPE_RIGHT||H==this.SWIPE_UP||H==this.SWIPE_DOWN},isBaseAction:function(H){return H==this.EXECUTE||H==this.BACK||this.isNavigationAction(H)},isVideoAction:function(H){return H==this.PLAY||H==this.PAUSE||H==this.STOP||H==this.TOGGLE_PLAY_PAUSE||H==this.FORWARD||H==this.REWIND||H==this.RESTART},isChannelAction:function(H){return H==this.CHANNEL_UP||H==this.CHANNEL_DOWN},isVolumeAction:function(H){return H==this.VOLUME_UP||H==this.VOLUME_DOWN||H==this.MUTE||H==this.UNMUTE||H==this.TOGGLE_MUTE},isNumberAction:function(H){return H==this.KEY_0||H==this.KEY_1||H==this.KEY_2||H==this.KEY_3||H==this.KEY_4||H==this.KEY_5||H==this.KEY_6||H==this.KEY_7||H==this.KEY_8||H==this.KEY_9},isColorAction:function(H){return H==this.RED||H==this.GREEN||H==this.YELLOW||H==this.BLUE}};function w(){var H="Thu, 01 Jan 1970 00:00:01 GMT";this.set=function(J,M,L){if(B.isFullStr(J)&&M!=null){var K=encodeURIComponent(M);
if(L!=null){var I=L;if(typeof L=="number"){I=new Date();I.setTime(I.getTime()+L)}if(typeof I.toGMTString=="function"){I=I.toGMTString()}K+=";expires="+I+";"}document.cookie=encodeURIComponent(J)+"="+K}};this.get=function(I,N){if(B.isFullStr(I)){var K=document.cookie.split(";");for(var M=0;M<K.length;M++){var J=K[M];var L=J.indexOf("=");if(L>0){if(I==decodeURIComponent(B.strTrim(J.substr(0,L)))){return decodeURIComponent(J.substr(L+1))}}}}return N!=null?N:null};this.getFullStr=function(I,J){return B.strFullCheck(this.get(I),J)};this.getNum=function(I,J){return B.strToNum(this.get(I),J)};this.getBool=function(I,J){return B.strToBool(this.get(I),J)};this.has=function(I,J){return B.isValid(this.get(I),J)};this.foreach=function(O){if(typeof O=="function"){var K=document.cookie.split(";");for(var M=0;M<K.length;M++){var J=K[M];var I=J.indexOf("=");if(I>0){var N=decodeURIComponent(B.strTrim(J.substr(0,I)));var L=decodeURIComponent(J.substr(I+1));if(O(N,L)===true){break}}}}};this.remove=function(I){if(B.isFullStr(I)){this.set(I,"",H)
}};this.clear=function(){var I=this;this.foreach(function(J){I.set(J,"",H)})}}function p(){var J="exp:";var I=new w();var H=function(L,M){if(M!=null){M*=1;return M>=0&&M<L}return false};var K=function(){if(window.localStorage!=null){var N=[];var O=q.getTimestamp();for(var M=0;M<localStorage.length;M++){var L=localStorage.key(M);if(L!=null&&L.indexOf(J)==0){if(H(O,localStorage.getItem(L))){N.push(L.substr(J.length))}}}for(var M=0;M<N.length;M++){localStorage.removeItem(N[M]);localStorage.removeItem(J+N[M])}}};this.set=function(L,O,N){if(B.isFullStr(L)&&O!=null){if(window.localStorage!=null){var M=-1;if(N!=null){if(typeof N=="number"){M=new Date().getTime()+N}else{if(typeof N=="string"){M=new Date(N).getTime()}else{if(typeof N.getTime=="function"){M=N.getTime()}}}}localStorage.setItem(L,O);if(M>=0){localStorage.setItem(J+L,M)}else{localStorage.removeItem(J+L)}}else{I.set(L,O,N)}}};this.get=function(L,O){if(B.isFullStr(L)){if(window.localStorage!=null){var N=false;var M=localStorage.getItem(J+L);
if(M!=null){if(H(q.getTimestamp(),M)){N=true;localStorage.removeItem(L);localStorage.removeItem(J+L)}}if(!N){var P=localStorage.getItem(L);if(P!=null){return P}}}else{return I.get(L,O)}}return O!=null?O:null};this.getFullStr=function(L,M){return B.strFullCheck(this.get(L),M)};this.getNum=function(L,M){return B.strToNum(this.get(L),M)};this.getBool=function(L,M){return B.strToBool(this.get(L),M)};this.has=function(L,M){return B.isValid(this.get(L),M)};this.foreach=function(N){if(typeof N=="function"){if(window.localStorage!=null){K();for(var M=0;M<localStorage.length;M++){var L=localStorage.key(M);if(L!=null&&L.indexOf(J)!=0){if(N(L,localStorage.getItem(L))===true){break}}}}else{I.foreach(N)}}};this.remove=function(L){if(B.isFullStr(L)){if(window.localStorage!=null){localStorage.removeItem(L);localStorage.removeItem(J+L)}else{I.remove(L)}}};this.clear=function(){if(window.localStorage!=null){localStorage.clear()}else{I.clear()}}}function f(I){var H=null;this.set=function(J,K){if(B.isFullStr(J)&&K!=null){if(H==null){H={}
}H[J]=K}};this.get=function(J,K){if(H!=null&&B.isFullStr(J)&&H[J]!=null){return H[J]}return K!=null?K:null};this.getFullStr=function(J,K){return B.strFullCheck(this.get(J),K)};this.getNum=function(J,K){return B.strToNum(this.get(J),K)};this.getBool=function(J,K){return B.strToBool(this.get(J),K)};this.has=function(J,K){return B.isValid(this.get(J),K)};this.foreach=function(K){if(typeof K=="function"){if(H!=null){for(var J in H){if(K(J,H[J])===true){break}}}}};this.remove=function(J){if(H!=null&&B.isFullStr(J)){delete H[J]}};this.clear=function(){H={}};this.create=function(N){var M={};if(B.isFullStr(N)){var Q=N.indexOf("?");if(Q>=0){var L=N.substr(Q+1).split("&");for(var J=0;J<L.length;J++){var O=L[J];if(B.isFullStr(O)){var K=O.indexOf("=");if(K>0){var P=O.substr(0,K);var R=O.substr(K+1);M[decodeURIComponent(P)]=decodeURIComponent(R)}else{M[decodeURIComponent(O)]=""}}}}}return M};this.build=function(M,L){var N=0;var J="";if(H!=null){for(var K in H){var O=B.strValue(H[K]);if(N>0){J+=(L!=null?L:"&")
}if(B.isFullStr(O)){J+=(M===false?K:encodeURIComponent(K))+"="+(M===false?O:encodeURIComponent(O))}else{J+=(M===false?K:encodeURIComponent(K))}N++}}return J};if(I!=null){H=this.create(I)}else{H=this.create(document.URL)}}function b(H,I){this.getValue=function(J){if(B.isFullStr(J)){if(H!=null&&H[J]!=null){return H[J]}if(I!=null&&I[J]!=null){return I[J]}}return null};this.get=function(J){return B.strValue(this.getValue(J))};this.getFullStr=function(J){return B.strFullCheck(this.get(J),null)};this.getNum=function(J){return B.strToNum(this.getValue(J),0)};this.getBool=function(J){return B.strToBool(this.getValue(J),false)};this.has=function(J,K){return B.isValid(this.get(J),K)}}function h(){var H={};this.hasObserver=function(I){return B.isFullStr(I)&&H[I]!=null};this.hasObservers=function(){var I;for(I in H){return true}return false};this.addObserver=function(I,J){if(B.isFullStr(I)&&typeof J=="function"){H[I]=J}};this.removeObserver=function(I){if(B.isFullStr(I)){delete H[I]}};this.onEvent=function(I,J){if(B.isFullStr(I)){if(typeof J=="function"){this.addObserver(I,J)
}else{this.removeObserver(I)}}};this.notifyObserver=function(I,J){if(B.isFullStr(I)&&H[I]!=null){H[I](J)}};this.notifyObservers=function(J){for(var I in H){H[I](J)}};this.clear=function(){H={}}}function m(){var H={};this.hasObserver=function(J,I){return B.isFullStr(J)&&B.isFullStr(I)&&H[J]!=null&&H[J][I]!=null};this.hasObservers=function(J){if(B.isFullStr(J)&&H[J]!=null){var I;for(I in H[J]){return true}}return false};this.addObserver=function(J,I,K){if(B.isFullStr(J)&&B.isFullStr(I)&&typeof K=="function"){if(H[J]==null){H[J]={}}H[J][I]=K}};this.removeObserver=function(J,I){if(B.isFullStr(J)&&B.isFullStr(I)&&H[J]!=null){delete H[J][I];if(!this.hasObservers(J)){delete H[J]}}};this.onEvent=function(J,I,K){if(B.isFullStr(J)&&B.isFullStr(I)){if(typeof K=="function"){this.addObserver(J,I,K)}else{this.removeObserver(J,I)}}};this.notifyObserver=function(J,I,K){if(B.isFullStr(J)&&B.isFullStr(I)&&H[J]!=null&&H[J][I]!=null){H[J][I](K)}};this.notifyObservers=function(J,K){if(B.isFullStr(J)&&H[J]!=null){for(var I in H[J]){H[J][I](K)
}}};this.clear=function(I){if(B.isFullStr(I)){if(H[I]!=null){H[I]={}}}else{H={}}}}function G(){var I=null;var J=[];var H=null;var K=false;this.delegate=null;this.execute=function(){if(I!=null){clearTimeout(I);I=null}if(H!=null){if(typeof H.action=="function"){H.action()}else{if(this.delegate!=null&&typeof this.delegate.executeQueueAction=="function"){this.delegate.executeQueueAction(H.action)}}H=null;this.process()}};this.process=function(){if(H==null&&J.length>0){H=J.shift();if(H.action==="stop"&&H.delay==null){K=true;H=null}else{if(H.delay!=null&&H.delay>0){var L=this;I=setTimeout(function(){I=null;L.execute()},H.delay)}else{this.execute()}}}};this.reset=function(){J=[];H=null;K=false;if(I!=null){clearTimeout(I);I=null}};this.push=function(L,M){if(L!=null){if(L==="reset"&&M==null){this.reset()}else{if(L==="execute"&&M==null){this.execute()}else{if(L==="clear"&&M==null){J=[]}else{if(L==="continue"&&M==null){K=false}else{J.push({action:L,delay:M})}}}}if(!K){this.process()}}};this.isBusy=function(){return I!=null
}}function e(H,L){var J=null;var K=[];var I=0;this.size=H!=null?H:0;this.delay=L!=null?L:0;this.work=function(){if(J==null&&this.delay>0){var M=this;J=setTimeout(function(){J=null;I=0;M.process()},this.delay)}};this.process=function(){if(J==null&&K.length>0){if(I<this.size||this.size<=0||this.delay<=0){I++;var M=K.shift();M();this.process()}else{this.work()}}};this.reset=function(){K=[];I=0;if(J!=null){clearTimeout(J);J=null}};this.execute=function(M){if(typeof M=="function"){K.push(M);this.process()}};this.isBusy=function(){return J!=null}}function u(K){var J=null;var I=null;var H=false;this.delay=K!=null?K:0;this.start=function(L){var M=this;H=false;this.stop();I=L;if(this.delay>0){J=setTimeout(function(){M.finish()},this.delay)}else{M.finish()}};this.restart=function(){this.start(I)};this.stop=function(){if(J!=null){clearTimeout(J);J=null}};this.finish=function(){this.stop();if(!H){H=true;if(typeof I=="function"){I()}}};this.isBusy=function(){return J!=null}}function s(){var J=300;var K=0;
var H=0;var I=null;this.click=function(L){var M=q.getTimestamp();if(I===L&&K>0&&M-K<=J){H++}else{H=1}I=L;K=M;return H}}function r(){var H="application/json";var M="application/xml";var J="text/plain";var P="text/html";var O="application/x-www-form-urlencoded";var K=function(S){var R=null;try{R=new XMLHttpRequest()}catch(Q){if(S!=null&&typeof S.error=="function"){S.error("Create XML HTTP request failed: "+Q)}}return R};var N=function(Q){if(Q!=null&&typeof Q.destroy=="function"){Q.destroy()}};var L=function(U,V,S){var Q=U.responseText;var T=true;if(Q!=null){if(S==H){try{if(window.JSON!=null&&typeof JSON.parse=="function"){if(B.isFullStr(Q)){Q=JSON.parse(Q)}else{T=false;if(V!=null&&typeof V.error=="function"){V.error("Validate JSON failed")}}}else{if(B.isJson(Q)){Q=new Function("return "+Q)()}else{T=false;if(V!=null&&typeof V.error=="function"){V.error("Validate JSON failed")}}}}catch(R){T=false;if(V!=null&&typeof V.error=="function"){V.error("Create JSON failed: "+R)}}}else{if(S==M){Q=U.responseXML
}}}if(T&&V!=null&&typeof V.success=="function"){V.success(Q)}};var I=function(W,T,V,ad,Q){if(window.TVXAjaxService!=null&&typeof TVXAjaxService.executeRequest=="function"&&TVXAjaxService.executeRequest(W,T,V,ad,Q)===true){return}var Z=K(ad);if(Z!=null){var aa=H;var U=false;var ab=false;var R=true;var ac=null;if(Q!=null){U=Q.isForm===true;ab=Q.withCredentials===true;R=Q.accurateHeaders!==false;ac=Q.headers;if(Q.dataType!=null){if(Q.dataType=="json"){aa=H}else{if(Q.dataType=="xml"){aa=M}else{if(Q.dataType=="text"){aa=J}else{if(Q.dataType=="html"){aa=P}else{aa=null}}}}}}try{if(ab){Z.withCredentials=true}Z.open(W,T,true)}catch(Y){N(Z);Z=null;if(ad!=null&&typeof ad.error=="function"){ad.error("Open connection failed: "+Y)}}if(Z!=null){Z.onreadystatechange=function(){if(Z!=null){if(Z.readyState==4){if((Z.status>=200&&Z.status<300)||(Z.status==0&&B.isFullStr(Z.responseText))){L(Z,ad,aa)}else{if(ad!=null&&typeof ad.error=="function"){var ae=B.strValue(Z.status);if(B.isFullStr(Z.statusText)){ae+=" "+Z.statusText
}ad.error("Server responded with status: "+ae)}}N(Z);Z=null}}};if(aa!=null){if(V!=null){Z.setRequestHeader("Content-Type",!U&&R?aa:O)}if(R){Z.setRequestHeader("Accept",aa)}}if(ac!=null){for(var X in ac){var S=ac[X];if(S!=null){Z.setRequestHeader(B.strValue(X),B.strValue(S))}}}try{Z.send(V)}catch(Y){N(Z);Z=null;if(ad!=null&&typeof ad.error=="function"){ad.error("Send data failed: "+Y)}}}}};this.get=function(Q,S,R){I("GET",Q,null,S,R)};this.post=function(R,T,Q,S){I("POST",R,T,Q,S)};this.put=function(R,T,Q,S){I("PUT",R,T,Q,S)};this.del=function(Q,S,R){I("DELETE",Q,null,S,R)}}var o={OFF:0,ERROR:1,WARN:2,INFO:3,DEBUG:4};function n(){var N=[];var J=null;this.level=o.DEBUG;this.maxLines=30;this.maxDebugLength=116;this.maxInfoLength=-1;this.maxWarnLength=-1;this.maxErrorLength=-1;var L=function(){var O=new Date();var V=O.getHours();var U=O.getMinutes();var S=O.getSeconds();var R=O.getMilliseconds();var Q=O.getDate();var T=O.getMonth()+1;var P=O.getFullYear();return P+"-"+((T<10)?"0":"")+T+"-"+((Q<10)?"0":"")+Q+" "+((V<10)?"0":"")+V+":"+((U<10)?"0":"")+U+":"+((S<10)?"0":"")+S+"."+((R<10)?"00":((R<100)?"0":""))+R
};var K=function(P,O){var Q="";switch(P){case o.DEBUG:Q=E.LOGGER.CSS.CLASS_DEBUG;break;case o.INFO:Q=E.LOGGER.CSS.CLASS_INFO;break;case o.WARN:Q=E.LOGGER.CSS.CLASS_WARN;break;case o.ERROR:Q=E.LOGGER.CSS.CLASS_ERROR;break}return B.strReplace(E.LOGGER.HTML.LINE.replace("{LEVEL}",Q),"{MESSAGE}",B.htmlEscape(O))};var I=function(P,O){var Q="";switch(P){case o.DEBUG:Q="DEBUG";break;case o.INFO:Q="INFO";break;case o.WARN:Q="WARNING";break;case o.ERROR:Q="ERROR";break}return L()+" "+Q+": "+O};var H=function(Q,P,R,O){if(R>0&&P.length>R){P=P.substr(0,R)+"..."}N.push(K(Q,P));if(O>0){while(N.length>O){N.shift()}}};var M=function(P,O){if(window.console!=null){switch(P){case o.DEBUG:console.log(O);break;case o.INFO:console.info(O);break;case o.WARN:console.warn(O);break;case o.ERROR:console.error(O);break}}};this.registerControl=function(O,P){J=O;if(P!==false){this.print()}};this.unregisterControl=function(O){if(J==O){J=null}};this.print=function(){if(J!=null&&N.length>0){var P="";for(var O=0;O<N.length;
O++){P+=N[O]+E.COMMON.HTML.BREAK}J.html(P)}};this.clear=function(){N=[];this.print()};this.log=function(P,O){if(P<=this.level){var Q=-1;switch(P){case o.DEBUG:Q=this.maxDebugLength;break;case o.INFO:Q=this.maxInfoLength;break;case o.WARN:Q=this.maxWarnLength;break;case o.ERROR:Q=this.maxErrorLength;break}M(P,O);H(P,I(P,O),Q,this.maxLines);this.print()}};this.debug=function(O){this.log(o.DEBUG,O)};this.info=function(O){this.log(o.INFO,O)};this.warn=function(O){this.log(o.WARN,O)};this.error=function(O){this.log(o.ERROR,O)}}function F(){var K=null;var N=null;var M=0;var P=null;var L=false;var J={};var O=function(Q,R){J[Q]=R;if(L){R()}};var H=function(Q){delete J[Q]};var I=function(){for(var Q in J){J[Q]()}};this.onReady=function(Q,R){if(B.isFullStr(Q)){if(typeof R=="function"){O(Q,R)}else{H(Q)}}};this.init=function(Q){L=true;K=B.strFullCheck(Q!=null?Q.name:null,null);N=B.strFullCheck(Q!=null?Q.version:null,null);M=0;P={};d.foreach(Q,function(S,R){if(B.isFullStr(S)&&B.isFullStr(R)){P[S]=R;
M++}});I()};this.getName=function(){return K};this.getVersion=function(){return N};this.getSize=function(){return M};this.isInitialized=function(){return L};this.getValueForKey=function(R,Q){if(P!=null&&B.isFullStr(R)&&P[R]!=null){return P[R]}return Q};this.getValueForExpr=function(R){if(B.isFullStr(R)){var Q=R.indexOf("|");if(Q>0){return this.getValueForKey(R.substr(0,Q),R.substr(Q+1))}else{return this.getValueForKey(R,"")}}return""};this.getData=function(){return{name:K,version:N,size:M,properties:P}}}function a(){var J=null;var K={};var I=null;var H=null;this.delay=0;this.now=q.getNow();this.format="time";this.isRunning=function(){return J!=null};this.hasHook=function(L){return B.isFullStr(L)&&K[L]!=null};this.hasHooks=function(){var L;for(L in K){return true}return false};this.hasControl=function(){return I!=null};this.clearHooks=function(){K={}};this.addHook=function(L,M){if(B.isFullStr(L)&&typeof M=="function"){K[L]=M}};this.removeHook=function(L){if(B.isFullStr(L)){delete K[L]}};
this.onTick=function(L,M){if(B.isFullStr(L)){if(typeof M=="function"){this.addHook(L,M)}else{this.removeHook(L)}}};this.registerControl=function(L){I=L};this.unregisterControl=function(L){if(I==L){I=null}};this.update=function(){if(I!=null){var L=null;switch(this.format){case"full":L=y.toDayTimeFullStr(this.now);break;case"date":L=y.toDayTimeLongStr(this.now);break;case"day":L=y.toTimeDayStr(this.now);break;case"time":L=y.toTimeStr(this.now);break;default:L="";break}if(I.clockText!=L){I.clockText=L;I.html(L)}}};this.validate=function(){this.now=q.getNow()};this.process=function(){if(J!=null){this.validate();this.delay=H!=null?this.now.getTime()-H.getTime():0;H=this.now;this.update();for(var L in K){K[L](this)}}};this.start=function(){if(J==null){var L=this;H=null;J=setInterval(function(){L.process()},1000)}};this.stop=function(){if(J!=null){clearInterval(J);J=null;H=null}}}var D={logger:new n(),cookies:new w(),storage:new p(),urlParams:new f(),ajax:new r()};var i=new function(){var H={};
this.load=function(J,I,L,K){if(B.isFullStr(J)){if(I!=null&&H[I]!=null&&H[I].url==J&&H[I].data!=null){if(L!=null&&typeof L.success=="function"){L.success(H[I].data,true)}}else{D.ajax.get(J,{success:function(M){if(I!=null){H[I]={url:J,data:M}}if(L!=null&&typeof L.success=="function"){L.success(M,false)}},error:function(M){if(I!=null){H[I]={url:J,data:null}}if(L!=null&&typeof L.error=="function"){L.error(M)}}},K)}}};this.clearCache=function(I){if(I!=null){H[I]=null}};this.clear=function(){H={}}};function A(){var T={};var M={};var Q={};var N={};var P=function(V){if(V!=null&&V.response!=null){return B.strToNum(V.response.status,0)}return 0};var U=function(V){if(V!=null&&V.response!=null){return V.response.data}return null};var K=function(W){var V="";if(W!=null&&W.response!=null){if(B.isNum(W.response.status)){V+=""+W.response.status}if(B.isFullStr(W.response.text)){if(V.length>0){V+=" "}V+=W.response.text}if(B.isFullStr(W.response.message)){if(V.length>0){V+=": "}V+=W.response.message}}return V.length>0?V:"Unknown error"
};var S=function(V,W){Q[V]=W;for(var X in T){if(T[X]!=null){W(T[X])}}};var H=function(V){delete Q[V]};var J=function(V){for(var W in Q){Q[W](V)}};var L=function(V,W){if(V!=null&&typeof W=="function"){N[V]=W;for(var X in M){if(M[X]!=null){W(M[X])}}}};var R=function(V){if(V!=null){delete N[V]}};var I=function(V){for(var W in N){N[W](V)}};var O=function(V){return V!=null&&V.indexOf("temp:")!=0};this.onReady=function(V,W){if(B.isFullStr(V)){if(typeof W=="function"){S(V,W)}else{H(V)}}};this.onError=function(V,W){if(B.isFullStr(V)){if(typeof W=="function"){L(V,W)}else{R(V)}}};this.onCompleted=function(V,W){this.onReady(V,W);this.onError(V,W)};this.foreachEntry=function(W){if(typeof W=="function"){for(var V in T){if(T[V]!=null){if(W(T[V])===true){break}}}}};this.foreachError=function(W){if(typeof W=="function"){for(var V in M){if(M[V]!=null){if(W(M[V])===true){break}}}}};this.getData=function(V){return V!=null&&T[V]!=null?T[V].data:null};this.getEntry=function(V){return V!=null?T[V]:null};this.setEntry=function(W,V){if(W!=null&&V!=null){T[W]=V;
M[W]=null;J(V)}};this.getError=function(V){return V!=null?M[V]:null};this.setError=function(V,W){if(V!=null&&W!=null){T[V]=null;M[V]=W;I(W)}};this.shouldStoreData=function(V){return O(V)};this.createData=function(V,W){return W};this.putData=function(W,Y,V,X){if(W!=null&&Y!=null){D.ajax.put(W,Y,{success:function(Z){if(Z.response!=null&&Z.response.status==200){if(V!=null&&typeof V.success=="function"){V.success(Z.response.data)}}else{if(V!=null&&typeof V.error=="function"){V.error(K(Z),P(Z),U(Z))}}},error:function(Z){if(V!=null&&typeof V.error=="function"){V.error(Z,0,null)}}},X)}};this.postData=function(W,Y,V,X){if(W!=null&&Y!=null){D.ajax.post(W,Y,{success:function(Z){if(Z.response!=null&&Z.response.status==200){if(V!=null&&typeof V.success=="function"){V.success(Z.response.data)}}else{if(V!=null&&typeof V.error=="function"){V.error(K(Z),P(Z),U(Z))}}},error:function(Z){if(V!=null&&typeof V.error=="function"){V.error(Z,0,null)}}},X)}};this.deleteData=function(V,X,W){if(V!=null){D.ajax.del(V,{success:function(Y){if(Y.response!=null&&Y.response.status==200){if(X!=null&&typeof X.success=="function"){X.success(Y.response.data)
}}else{if(X!=null&&typeof X.error=="function"){X.error(K(Y),P(Y),U(Y))}}},error:function(Y){if(X!=null&&typeof X.error=="function"){X.error(Y,0,null)}}},W)}};this.loadData=function(Y,W,Z,X){if(Y!=null){var V=this;if(O(Y)){this.clearData(Y)}if(W!=null){D.ajax.get(W,{success:function(ad){var ac=false;if(ad.response!=null&&ad.response.status==200&&ad.response.data!=null){ac=true;ad=ad.response.data}if(!ac&&ad.response!=null){var aa={id:Y,error:K(ad),status:P(ad),reason:U(ad)};var ab=true;if(Z!=null&&typeof Z.error=="function"){ab=Z.error(aa)}if(ab!==false&&O(Y)){V.setError(Y,aa)}if(Z!=null&&typeof Z.completed=="function"){Z.completed(aa)}}else{var aa={id:Y,data:V.createData(Y,ad)};var ab=true;if(Z!=null&&typeof Z.success=="function"){ab=Z.success(aa)}if(ab!==false&&O(Y)){V.setEntry(Y,aa)}if(Z!=null&&typeof Z.completed=="function"){Z.completed(aa)}}},error:function(ac){var aa={id:Y,error:ac,status:0,reason:null};var ab=true;if(Z!=null&&typeof Z.error=="function"){ab=Z.error(aa)}if(ab!==false&&O(Y)){V.setError(Y,aa)
}if(Z!=null&&typeof Z.completed=="function"){Z.completed(aa)}}},X)}}};this.clearData=function(V){if(V!=null){T[V]=null;M[V]=null}};this.clear=function(){T={};M={}}}function v(){var M={};var P={};var W={};var I={};var H=function(Z){if(Z!=null){try{if(window.URL!=null&&typeof URL.createObjectURL=="function"){return URL.createObjectURL(Z)}else{if(window.webkitURL!=null&&typeof webkitURL.createObjectURL=="function"){return webkitURL.createObjectURL(Z)}}}catch(Y){D.logger.error("Create blob URL failed: "+Y)}}return null};var S=function(Y){if(Y!=null){try{if(window.URL!=null&&typeof URL.revokeObjectURL=="function"){URL.revokeObjectURL(Y)}else{if(window.webkitURL!=null&&typeof webkitURL.revokeObjectURL=="function"){webkitURL.revokeObjectURL(Y)}}}catch(Z){D.logger.error("Dispose blob URL failed: "+Z)}}};var X=function(aa){var Z=null;try{Z=new XMLHttpRequest()}catch(Y){if(aa!=null&&typeof aa.error=="function"){aa.error("Create XML HTTP request failed: "+Y)}}return Z};var O=function(Y){if(Y!=null&&typeof Y.destroy=="function"){Y.destroy()
}};var R=function(Y,Z){if(Y.response!=null){if(Z!=null&&typeof Z.success=="function"){Z.success(Y.response)}}else{if(Z!=null&&typeof Z.error=="function"){Z.error("Load blob failed: Response is missing")}}};var J=function(ac,aa,ab,ai,Y){var af=X(ai);if(af!=null){var ag=false;var ah=null;if(Y!=null){ag=Y.withCredentials===true;ah=Y.headers}try{if(ag){af.withCredentials=true}af.responseType="blob";af.open(ac,aa,true)}catch(ae){O(af);af=null;if(ai!=null&&typeof ai.error=="function"){ai.error("Open connection failed: "+ae)}}if(af!=null){af.onreadystatechange=function(){if(af!=null){if(af.readyState==4){if(af.status>=200&&af.status<300){R(af,ai)}else{if(ai!=null&&typeof ai.error=="function"){var aj=B.strValue(af.status);if(B.isFullStr(af.statusText)){aj+=" "+af.statusText}ai.error("Server responded with status: "+aj)}}O(af);af=null}}};if(ah!=null){for(var ad in ah){var Z=ah[ad];if(Z!=null){af.setRequestHeader(B.strValue(ad),B.strValue(Z))}}}try{af.send(ab)}catch(ae){O(af);af=null;if(ai!=null&&typeof ai.error=="function"){ai.error("Send data failed: "+ae)
}}}}};var L=function(Y,Z,ad,ab,ae,aa,ac){if(ad!=null){Y.clearBlob(ad);if(ab!=null){J(Z,ab,ae,{success:function(ag){var af={id:ad,blob:ag,url:H(ag)};if(aa!=null&&typeof aa.success=="function"){aa.success(af)}Y.setEntry(ad,af);if(aa!=null&&typeof aa.completed=="function"){aa.completed(af)}},error:function(ag){var af={id:ad,error:ag,status:0,reason:null};if(aa!=null&&typeof aa.error=="function"){aa.error(af)}Y.setError(ad,af);if(aa!=null&&typeof aa.completed=="function"){aa.completed(af)}}},ac)}}};var K=function(Y,Z){W[Y]=Z;for(var aa in M){if(M[aa]!=null){Z(M[aa])}}};var N=function(Y){delete W[Y]};var Q=function(Y){for(var Z in W){W[Z](Y)}};var U=function(Y,Z){if(Y!=null&&typeof Z=="function"){I[Y]=Z;for(var aa in P){if(P[aa]!=null){Z(P[aa])}}}};var T=function(Y){if(Y!=null){delete I[Y]}};var V=function(Y){for(var Z in I){I[Z](Y)}};this.onReady=function(Y,Z){if(B.isFullStr(Y)){if(typeof Z=="function"){K(Y,Z)}else{N(Y)}}};this.onError=function(Y,Z){if(B.isFullStr(Y)){if(typeof Z=="function"){U(Y,Z)
}else{T(Y)}}};this.onCompleted=function(Y,Z){this.onReady(Y,Z);this.onError(Y,Z)};this.foreachEntry=function(Z){if(typeof Z=="function"){for(var Y in M){if(M[Y]!=null){if(Z(M[Y])===true){break}}}}};this.foreachError=function(Z){if(typeof Z=="function"){for(var Y in P){if(P[Y]!=null){if(Z(P[Y])===true){break}}}}};this.getBlob=function(Y){return Y!=null&&M[Y]!=null?M[Y].blob:null};this.getUrl=function(Y){return Y!=null&&M[Y]!=null?M[Y].url:null};this.getEntry=function(Y){return Y!=null?M[Y]:null};this.setEntry=function(Z,Y){if(Z!=null&&Y!=null){S(M[Z]!=null?M[Z].url:null);M[Z]=Y;P[Z]=null;Q(Y)}};this.getError=function(Y){return Y!=null?P[Y]:null};this.setError=function(Y,Z){if(Y!=null&&Z!=null){S(M[Y]!=null?M[Y].url:null);M[Y]=null;P[Y]=Z;V(Z)}};this.executeBlob=function(ab,Z,ac,Y,aa){L(this,"POST",ab,Z,ac,Y,aa)};this.loadBlob=function(aa,Y,ab,Z){L(this,"GET",aa,Y,null,ab,Z)};this.clearBlob=function(Y){if(Y!=null){S(M[Y]!=null?M[Y].url:null);M[Y]=null;P[Y]=null}};this.clear=function(){for(var Y in M){S(M[Y]!=null?M[Y].url:null)
}M={};P={}}}function g(M){var J="srq";var I=0;var H={};var N=0;this.timeout=M!=null?M:30000;var K=function(O,R){I++;N++;var Q=J+I+"_"+q.getTimestamp();var P={timeout:new u(O),callback:R};H[Q]=P;P.timeout.start(function(){L(Q,null,"Request timed out","timeout")});return Q};var L=function(R,S,O,P){if(R!=null){var Q=H[R];if(Q!=null){N--;Q.timeout.stop();delete H[R];if(O!=null){if(Q.callback!=null&&typeof Q.callback.error=="function"){Q.callback.error(O,P)}}else{if(Q.callback!=null&&typeof Q.callback.success=="function"){Q.callback.success(S)}}}}};this.startRequest=function(O){return K(this.timeout,O)};this.getRequestsCount=function(){return N};this.isRequestPending=function(O){return O!=null&&H[O]!=null};this.handleData=function(O,P){L(O,P!=null?P:null,null)};this.handleError=function(P,Q,O){L(P,null,Q!=null?Q:"Unknown error",O!=null?O:null)}}function z(R){var S=4;var P=256;var T=null;var Q=null;var aa=function(ak){return B.isFullStr(ak)&&ak.length>=S&&ak.length<P&&ak.length%2==0};var af=function(ak){return ak&ak
};var I=function(ak,al){return af(((ak<<5)-ak)+al)};var V=function(ak){return ak.length==1?"0"+ak:ak};var ac=function(al,ak){if(ak>0){while(al<0){al+=ak}while(al>=ak){al-=ak}}return al};var Y=function(am,al,ak){am+=3;return am+al>=ak?0:am};var L=function(ak,al){ak++;return ak>=al?0:ak};var Z=function(ak,al){return al?-ak:ak};var ag=function(an,ao,am,ak,al){return ac(ao+Z(ak,al)*ab(an,am),P)};var N=function(aq,ak,ap,ar,al,ao,am){var an=aq!=null&&ap!=null?aq.indexOf(ap):-1;return an>=0?ai(aq,ac(an+Z(ao,am)*(ar+ab(ak,al)),aq.length)):ap};var M=function(al,ak){return ak!=null?(al!=null?al+ak:ak):al};var ai=function(ak,al){return ak!=null&&al>=0&&al<ak.length?ak.charAt(al):null};var ab=function(ak,al){return ak!=null&&al>=0&&al<ak.length?ak.charCodeAt(al):0};var O=function(ap,ar,ak,ao,al,an){var aq=ai(ap,ao);if(aq!=null){var am=Math.random()>0.5?ar.indexOf(aq):ar.lastIndexOf(aq);return am>=0?V(ag(ak,am,al,1,an).toString(16)):null}return null};var J=function(ap,ak,ao,al,an){var ar=ai(ap,ao);var aq=ai(ap,ao+1);
var am=ar!=null&&aq!=null?parseInt(ar+aq,16):-1;return am>=0?ag(ak,am,al,-1,an):-1};var ah=function(aq,av,al){var au=null;if(B.isFullStr(aq)&&aq.length%2==0&&aa(av)&&aa(al)){var ap=aq.length;var ar=al.length;var am=0;var ao=0;var an=false;for(var ak=0;ak<ap;ak+=2){var at=ai(av,J(aq,al,ak,am+ao,an));if(at!=null){au=M(au,at)}else{return null}am=Y(am,ao,ar);if(am==0){ao=L(ao,ar)}an=!an}}return au};var K=function(ar,an,al){var av=null;if(B.isFullStr(ar)&&aa(an)&&aa(al)){var au=ar.length;var at=al.length;var am=0;var aq=0;var ap=false;for(var ak=0;ak<au;ak++){var ao=O(ar,an,al,ak,am+aq,ap);if(ao!=null){av=M(av,ao)}else{return null}am=Y(am,aq,at);if(am==0){aq=L(aq,at)}ap=!ap}}return av};var aj=function(al){var ak=al<0?-1:1;return ak*((al*ak)%P)};var ad=function(ao){var al=null;if(aa(ao)){var an=ao.length;var am=an/2;for(var ap=0;ap<am;ap++){var aq=ai(ao,ap);var ak=ai(ao,an-1-ap);if(al==null||al.indexOf(aq)<0){al=M(al,aq)}if(al.indexOf(ak)<0){al=M(al,ak)}}}return al};var H=function(an,ap,ao){var am=0;
if(an!=null&&ap!=null&&ao!=null){var aq=an.length;var ak=ao.length;am=aq;for(var al=0;al<ak;al++){am=I(am,ab(ao,al))}for(var al=0;al<aq;al++){if(ap.indexOf(ai(an,al))<0){am=I(am,ab(an,al))}}}return aj(am)};var U=function(ar,av,al,at){var an=null;if(B.isFullStr(ar)&&aa(av)&&aa(al)){var aw=H(ar,av,al);var au=ar.length;var aq=al.length;var am=0;var ap=0;var ao=false;for(var ak=0;ak<au;ak++){an=M(an,N(av,al,ai(ar,ak),aw,am+ap,at,ao));am=Y(am,ap,aq);if(am==0){ap=L(ap,aq)}ao=!ao}}return an};var ae=function(){return K(B.strShuffle(R),R,R)};var W=function(ak,al){return ah(ak,ah(al,R,R),R)};var X=function(){if(Q==null){Q=ad(R)}return Q};this.createSteam=function(){T=ae();return T};this.resolveToken=function(ak){return W(ak,T)};this.transformString=function(ak){return U(ak,X(),R,1)};this.normalizeString=function(ak){return U(ak,X(),R,-1)}}var t=new function(){var M=new z("k%hy.nLI1&4rN[D9YAPVCu(*&5F)'aC$=frs,wocT48qpRpXt[Gx$BQZU@B,9N;oL%j*J~hXbW)-#q#z7+0uMgHm3fEHcdK@iIG!?nP!/Y.3vFb~2eUz(sk-O/W?AtJ_VT_8]=+K;DmS6Q1iSx60]jaevER'l7y5ZlOdM2wg");
var H=new z("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789");var I=new z(B.strShuffle("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789"));var N=function(P,O){return P!=null&&O>=0&&O<P.length?P.charAt(O):"0"};var J=function(O){return O.indexOf("-")==0?"0"+O.substr(1):O};var K=function(O,R){var P=0;for(var Q=O.length;Q<16;Q++){O+=N(R,P++)}return O};var L=function(O){return K(J(""+B.createHash(O)),J(""+B.createHash(O,true)))};this.checkOrigin=function(O){if(B.isFullStr(O)){return O=="null"||O=="http://msx.benzac.de"||O=="https://msx.benzac.de"||O=="ms-appx://52357benzac.de.mediastationx"||O=="http://localhost"||O.indexOf("http://localhost:")==0||O.indexOf("file://")==0}return false};this.transformString=function(O){return M.transformString(O)};this.normalizeString=function(O){return M.normalizeString(O)};this.createHashKey=function(O,P){if(P=="local"){return I.transformString(L(O))}return H.transformString(L(O))}};var C=new function(){var R=null;var P=false;
var O=function(U){if(R!=null){var S=R;R=null;if(S.length>0){for(var T=0;T<S.length;T++){S[T](U)}}}};var I=function(S){if(R==null){R=[]}R.push(S)};var M=function(T,S){if(B.isFullStr(S)){if(B.isFullStr(T)){return S==T}return false}return true};var J=function(S){return S!=null&&S.info!=null&&S.info.framework!=null?B.strFullCheck(S.info.framework.name,null):null};var L=function(S){return S!=null&&S.info!=null&&S.info.framework!=null?B.strFullCheck(S.info.framework.version,null):null};var H=function(S){return S!=null&&S.info!=null&&S.info.application!=null?B.strFullCheck(S.info.application.name,null):null};var N=function(S){return S!=null&&S.info!=null&&S.info.application!=null?B.strFullCheck(S.info.application.version,null):null};var K=function(S){return S!=null&&S.info!=null&&S.info.content!=null?B.strFullCheck(S.info.content.name,null):null};var Q=function(S){return S!=null&&S.info!=null&&S.info.content!=null?B.strFullCheck(S.info.content.version,null):null};this.createCanvas=function(U,T,S){return B.strReplace(E.COMMON.HTML.CANVAS.replace("{WIDTH}",B.strToNum(T,k.SCREEN_WIDTH)).replace("{HEIGHT}",B.strToNum(S,k.SCREEN_HEIGHT)),"{CLASS}",B.htmlAttrEscape(U))
};this.createIFrame=function(S,T){return B.strReplace(B.strReplace(E.COMMON.HTML.IFRAME,"{CLASS}",B.htmlAttrEscape(S)),"{SRC}",B.htmlAttrEscape(B.strFullCheck(T,"about:blank")))};this.areSettingsValidated=function(){return P};this.invalidateSettings=function(){P=false};this.validateSettings=function(Y){P=true;var aj=null;var U=null;var aa=null;var ak=null;var ab=null;var ap=null;var ao=null;var am=null;var V=null;var S=null;var W=null;var an=null;var ac=null;var Z=null;var ah=null;var al=null;var ae=null;var ai=null;var T=null;var af=null;var ad=null;var ag=null;var X=null;if(Y!=null&&Y.info!=null){ao=Y.info.platform;if(Y.info.time!=null){aj=Y.info.time.offset;U=Y.info.time.zoneOffset}if(Y.info.screen!=null){aa=Y.info.screen.width;ak=Y.info.screen.height;ab=Y.info.screen.factor;ap=Y.info.screen.zoomFactor}if(Y.info.framework!=null&&Y.info.framework.settings!=null){am=Y.info.framework.settings.animate;V=Y.info.framework.settings.transform;S=Y.info.framework.settings.input;W=Y.info.framework.settings.remote;
an=Y.info.framework.settings.layout;ac=Y.info.framework.settings.scale;Z=Y.info.framework.settings.zoom;ah=Y.info.framework.settings.center;al=Y.info.framework.settings.background;ae=Y.info.framework.settings.exit;ai=Y.info.framework.settings.back;T=Y.info.framework.settings.volume;af=Y.info.framework.settings.busy;ad=Y.info.framework.settings.speed;ag=Y.info.framework.settings.playback;X=Y.info.framework.settings.fullscreen}}k.TIME_OFFSET=B.strToNum(aj,k.TIME_OFFSET);k.TIME_ZONE_OFFSET=B.strToNum(U,k.TIME_ZONE_OFFSET);k.SCREEN_WIDTH=B.strToNum(aa,k.SCREEN_WIDTH);k.SCREEN_HEIGHT=B.strToNum(ak,k.SCREEN_HEIGHT);k.SCREEN_FACTOR=B.strToNum(ab,k.SCREEN_FACTOR);k.ZOOM_FACTOR=B.strToNum(ap,k.ZOOM_FACTOR);k.PLATFORM=B.strFullCheck(ao,k.PLATFORM);k.ANIMATE=B.strToNum(am,k.ANIMATE);k.TRANSFORM=B.strToNum(V,k.TRANSFORM);k.INPUT=B.strToNum(S,k.INPUT);k.REMOTE=B.strToNum(W,k.REMOTE);k.LAYOUT=B.strFullCheck(an,k.LAYOUT);k.SCALE=B.strFullCheck(ac,k.SCALE);k.ZOOM=B.strFullCheck(Z,k.ZOOM);k.CENTER=B.strToNum(ah,k.CENTER);
k.BACKGROUND=B.strToNum(al,k.BACKGROUND);k.EXIT=B.strToNum(ae,k.EXIT);k.BACK=B.strToNum(ai,k.BACK);k.VOLUME=B.strToNum(T,k.VOLUME);k.BUSY=B.strToNum(af,k.BUSY);k.SPEED=B.strToNum(ad,k.SPEED);k.PLAYBACK=B.strToNum(ag,k.PLAYBACK);k.FULLSCREEN=B.strToNum(X,k.FULLSCREEN);O(Y)};this.onValidatedSettings=function(S){if(typeof S=="function"){if(P){S()}else{I(S)}}};this.handleSettingsEvent=function(T){if(T!=null&&B.isFullStr(T.event)&&T.event.indexOf("settings:")==0){var S=T.event.substr(9);if(S=="animate"){k.ANIMATE=B.strToNum(T.value,k.ANIMATE)}else{if(S=="transform"){k.TRANSFORM=B.strToNum(T.value,k.TRANSFORM)}else{if(S=="input"){k.INPUT=B.strToNum(T.value,k.INPUT)}else{if(S=="remote"){k.REMOTE=B.strToNum(T.value,k.REMOTE)}else{if(S=="layout"){k.LAYOUT=B.strToNum(T.value,k.LAYOUT)}else{if(S=="scale"){k.SCALE=B.strFullCheck(T.value,k.SCALE)}else{if(S=="zoom"){k.ZOOM=B.strFullCheck(T.value,k.ZOOM)}}}}}}}}};this.getFrameworkInfo=function(S){return B.strFullCheck(J(S),"-")+" "+B.strFullCheck(L(S),"-")
};this.getApplicationInfo=function(S){return B.strFullCheck(H(S),"-")+" "+B.strFullCheck(N(S),"-")};this.getContentInfo=function(S){return B.strFullCheck(K(S),"-")+" "+B.strFullCheck(Q(S),"-")};this.checkFramework=function(U,T,S){return B.checkVersion(L(U),T)&&M(J(U),S)};this.checkApplication=function(U,T,S){return B.checkVersion(N(U),T)&&M(H(U),S)};this.checkContent=function(U,T,S){return B.checkVersion(Q(U),T)&&M(K(U),S)}};var j=new function(){var K="videoPlugin";var aA="vrq";var af=100;var M=30000;var aa=new z("VnckdhvbF'sOhm)XlK1t]ETl]+K8q-tDgevE3N;7Zm[u#V1/W)U-_@_@,A4(B#zGF~8JHfJr?=D2*n9WC7&0i/a+2S,Qky5&..Nx!p(wUoLRIdos?HBLZ;T'CRb=eqGi3yc5$*Q%~P6MYjrj6P40aISO$!AXYwMzu%[x9gpf");var Q=null;var X=false;var ay=null;var aM=false;var O=false;var ak=false;var aU=false;var a2=null;var a4=new a();var W=new u(1000);var aC=new u(1000);var aL=false;var aZ={state:0,position:0,duration:0,speed:1,ended:false,volume:100,muted:false,width:k.SCREEN_WIDTH,height:k.SCREEN_HEIGHT};var ab=function(a5){Q=new z(a5)
};var am=function(a5){if(aM){if(a5=="local"){return Q!=null?Q.createSteam():null}return aa.createSteam()}return null};var J=function(a5,a6){if(aM){if(a6=="local"){return Q!=null?Q.resolveToken(a5):null}return aa.resolveToken(a5)}return null};var aD=function(a5,a6){if(aM){if(a6=="local"){return Q!=null?Q.transformString(a5):null}else{if(a6=="global"){return aa.transformString(a5)}else{if(a6=="shared"){return t.transformString(Q!=null?Q.transformString(a5):a5)}}}return aa.transformString(Q!=null?Q.transformString(a5):a5)}return null};var Z=function(a5,a6){if(aM){if(a6=="local"){return Q!=null?Q.normalizeString(a5):null}else{if(a6=="global"){return aa.normalizeString(a5)}else{if(a6=="shared"){return Q!=null?Q.normalizeString(t.normalizeString(a5)):t.normalizeString(a5)}}}return Q!=null?Q.normalizeString(aa.normalizeString(a5)):aa.normalizeString(a5)}return null};var aV=function(a5){if(B.isNum(a5)){a5=B.strToNum(a5,0);if(isFinite(a5)){return a5}}return 0};var L=function(){if(aZ.position==0||aZ.duration==0){try{var a5=false;
if(aZ.position==0){aZ.position=aV(a2.getPosition());a5=aZ.position>0}if(aZ.duration==0){aZ.duration=aV(a2.getDuration());a5=aZ.duration>0}if(aZ.position>0&&aZ.duration>0){aS()}if(a5){R()}}catch(a6){ag("Start failed",a6);aS()}}else{aS()}};var aS=function(){X=true;Y()};var a1=function(){Y();if(aM&&!X&&a2!=null&&typeof a2.getPosition=="function"&&typeof a2.getDuration=="function"){ay=setInterval(L,af)}};var Y=function(){if(ay!=null){clearInterval(ay);ay=null}};var aW=0;var aP={};var ar=function(a7){aW++;var a5=aA+aW+"_"+q.getTimestamp();var a6={timeout:new u(M),callback:a7};aP[a5]=a6;a6.timeout.start(function(){au(a5,{error:"Request timed out"})});return a5};var au=function(a5,a7){if(a5!=null){var a6=aP[a5];if(a6!=null){a6.timeout.stop();delete aP[a5];U(a6.callback,a7)}}};var U=function(a7,a5){if(typeof a7=="function"){try{a7(a5)}catch(a6){ag("Callback error",a6)}}};var aT=new h();var T=new u(500);var av=null;var aF=null;var an=function(a6,a5){return a6!=null&&a5!=null&&a6.start===a5.start&&a6.restored===a5.restored&&a6.visible===a5.visible&&a6.active===a5.active&&a6.menuId===a5.menuId&&a6.menuFocus===a5.menuFocus&&a6.contentId===a5.contentId&&a6.contentFocus===a5.contentFocus
};var ac=function(a5){if(a5!=null){if(an(av,a5)){if(!an(aF,a5)){aF=a5;aT.notifyObservers(a5)}}else{av=a5}}ad()};var aK=function(){if(aM){ao("info:content",function(a5){ac(a5.info!=null&&a5.info.content!=null?a5.info.content.state:null)})}else{ad()}};var ad=function(a5){if(aT.hasObservers()){if(B.isFullStr(a5)&&aF!=null){aT.notifyObserver(a5,aF)}T.start(aK)}else{av=null;aF=null;T.stop()}};var R=function(){V(aZ)};var aE=function(){a4.addHook(K,az)};var aX=function(){if(aZ.state==l.STOPPED){a4.stop()}else{a4.start()}};var S=function(a5,a6){if(B.isFullStr(a5)){V({action:a5,data:a6!=null?a6:null})}};var aw=function(a6,a5){if(B.isFullStr(a6)){if(a5!==false){S("logger:debug:"+a6)}}};var aB=function(a6,a5,a7){if(B.isFullStr(a6)){if(a5!==false){S("logger:success:"+a6,{show:a7!==false})}else{if(a7!==false){S("success:"+a6)}}}};var a3=function(a6,a5,a7){if(B.isFullStr(a6)){if(a5!==false){S("logger:info:"+a6,{show:a7!==false})}else{if(a7!==false){S("info:"+a6)}}}};var ah=function(a6,a5,a7){if(B.isFullStr(a6)){if(a5!==false){S("logger:warn:"+a6,{show:a7!==false})
}else{if(a7!==false){S("warn:"+a6)}}}};var at=function(a6,a5,a7){if(B.isFullStr(a6)){if(a5!==false){S("logger:error:"+a6,{show:a7!==false})}else{if(a7!==false){S("error:"+a6)}}}};var N=function(a5,a6){if(B.isFullStr(a5)&&a6!=null){if(typeof a6=="object"){S(a5+":data",a6)}else{S(a5+":"+a6)}}};var aO=function(a5){N("menu",a5)};var aq=function(a5){N("content",a5)};var ap=function(a5){N("panel",a5)};var ao=function(a5,a7,a6){if(B.isFullStr(a5)){if(a6==null){a6={}}a6.requestId=ar(a7);a6.dataId=a5;S("player:commit:"+a5,a6)}else{U(a7,{error:"Data ID is invalid: '"+a5+"'"})}};var ag=function(a5,a6){if(a5!=null&&a6!=null){if(a6.name!=null&&a6.message!=null){at("Plugin: "+a5+": "+a6.name+": "+a6.message)}else{at("Plugin: "+a5+": "+a6)}}};var H=function(a5){if(aZ.state!=l.PLAYING||a5===true){aZ.state=l.PLAYING;if(aM&&a2!=null&&typeof a2.play=="function"){try{a2.play()}catch(a6){ag("Play failed",a6)}}}};var aN=function(a5){if(aZ.state!=l.PAUSED||a5===true){aZ.state=l.PAUSED;if(aM&&a2!=null&&typeof a2.pause=="function"){try{a2.pause()
}catch(a6){ag("Pause failed",a6)}}}};var a0=function(a5){if(aZ.state!=l.STOPPED||a5===true){aZ.state=l.STOPPED;if(aM&&a2!=null&&typeof a2.stop=="function"){try{a2.stop()}catch(a6){ag("Stop failed",a6)}}}};var aQ=function(a5,a6){if(a5==l.PLAYING){H(a6)}else{if(a5==l.PAUSED){aN(a6)}else{if(a5==l.STOPPED){a0(a6)}}}};var az=function(){if(aM&&a2!=null&&!W.isBusy()&&typeof a2.getUpdateData=="function"){try{var a6=a2.getUpdateData();if(a6!=null){var a7=false;if(B.isNum(a6.state)){a7=true;aZ.state=B.strToNum(a6.state,aZ.state)}if(B.isNum(a6.position)){a7=true;aZ.position=B.strToNum(a6.position,aZ.position);if(!isFinite(aZ.position)){aZ.position=0}}if(B.isNum(a6.duration)){a7=true;aZ.duration=B.strToNum(a6.duration,aZ.duration);if(!isFinite(aZ.duration)){aZ.duration=0}}if(B.isNum(a6.speed)){a7=true;aZ.speed=B.strToNum(a6.speed,aZ.speed)}if(B.isBool(a6.ended)){a7=true;aZ.ended=B.strToBool(a6.ended,aZ.ended)}if(B.isNum(a6.volume)){a7=true;aZ.volume=B.strToNum(a6.volume,aZ.volume)}if(B.isBool(a6.muted)){a7=true;
aZ.muted=B.strToBool(a6.muted,aZ.muted)}if(a7){R();aX()}}}catch(a5){ag("Update failed",a5)}}};var aH=function(a7,a5){aU=false;if(aZ.position!=a7||a7==0||a5===true){aZ.position=a7;if(aM&&a2!=null&&typeof a2.setPosition=="function"){try{a2.setPosition(a7);if(!aU){W.start()}}catch(a6){ag("Set position failed",a6)}}}};var aI=function(a5,a7){if(aZ.volume!=a5||a7===true){aZ.volume=a5;if(aM&&a2!=null&&typeof a2.setVolume=="function"){try{a2.setVolume(a5)}catch(a6){ag("Set volume failed",a6)}}}};var P=function(a5,a6){if(aZ.muted!=a5||a6===true){aZ.muted=a5;if(aM&&a2!=null&&typeof a2.setMuted=="function"){try{a2.setMuted(a5)}catch(a7){ag("Set muted failed",a7)}}}};var aY=function(a5,a6){if(aZ.speed!=a5||a6===true){aZ.speed=a5;if(aM&&a2!=null&&typeof a2.setSpeed=="function"){try{a2.setSpeed(a5)}catch(a7){ag("Set speed failed",a7)}}}};var al=function(a6,a5,a7){if(aZ.width!=a6||aZ.height!=a5||a7===true){aZ.width=a6;aZ.height=a5;if(aM&&a2!=null&&typeof a2.setSize=="function"){try{a2.setSize(a6,a5)}catch(a8){ag("Set size failed",a8)
}}}};var aJ=function(a5,a6){S("response:"+a5,a6)};var aj=function(a5,a6){au(a5,a6)};var I=function(a6,a5,a8){if(typeof a2.handleRequest=="function"){try{a2.handleRequest(a5,a8,function(a9){aJ(a6,a9)})}catch(a7){ag("Handle request failed",a7);aJ(a6)}}else{aJ(a6)}};var ax=function(a9){if(aM&&a9!=null&&a2!=null){if(B.isFullStr(a9.requestId)&&B.isFullStr(a9.dataId)){I(a9.requestId,a9.dataId,a9.data)}else{if(a9.data!=null&&B.isFullStr(a9.data.requestId)&&B.isFullStr(a9.data.dataId)){var a6={};var a8=a9.data.dataId;var a5=a8.indexOf(":");if(a5>0){a8=a8.substr(0,a5)}a6[a8]=a9[a8]!=null?a9[a8]:null;a6.error=B.strFullCheck(a9.error,null);aj(a9.data.requestId,a6)}else{if(typeof a2.handleData=="function"){try{a2.handleData(a9)}catch(a7){ag("Handle data failed",a7)}}}}}};var ae=function(a5){if(!ak||a5===true){ak=true;if(a2!=null&&typeof a2.init=="function"){try{a2.init()}catch(a6){ag("Call init failed",a6)}}}};var aR=function(a5){if(!aM||a5===true){aM=true;if(a2!=null&&typeof a2.ready=="function"){try{a2.ready()
}catch(a6){ag("Call ready failed",a6)}}}};var aG=function(){aM=false;window.addEventListener("message",function(a5){if(t.checkOrigin(a5.origin)){ai(a5.data)}},false);S("plugin:init")};var ai=function(a5){if(ak&&a5!=null&&a5.type===K){if(a5.init===1&&aM){return}if(B.isNum(a5.state)){aQ(B.strToNum(a5.state,aZ.state))}if(B.isNum(a5.position)){aH(B.strToNum(a5.position,aZ.position))}if(B.isNum(a5.speed)){aY(B.strToNum(a5.speed,aZ.speed))}if(B.isNum(a5.volume)){P(false);aI(B.strToNum(a5.volume,aZ.volume))}if(B.isBool(a5.muted)){P(B.strToBool(a5.muted,aZ.muted))}if(B.isNum(a5.width)&&B.isNum(a5.height)){al(B.strToNum(a5.width,aZ.width),B.strToNum(a5.height,aZ.height))}if(a5.init===1){aR()}else{if(a5.data!=null){ax(a5.data)}}}};var V=function(a6){if(window.parent!=null&&a6!=null){a6.type=K;a6.sender="plugin";a6.target="app";try{window.parent.postMessage(a6,"*")}catch(a5){if(window.console!=null){console.error("Post message failed",a5)}}}};this.setupPlayer=function(a5){a2=a5;if(ak){ae(true)}if(aM){aR(true)
}};this.setSeekDelay=function(a5){W.delay=B.strToNum(a5,W.delay)};this.getSeekDelay=function(){return W.delay};this.setLoadingDelay=function(a5){aC.delay=B.strToNum(a5,aC.delay)};this.getLoadingDelay=function(){return aC.delay};this.setState=function(a5,a6){if(aM){aZ.state=B.strToNum(a5,aZ.state);if(a6===true){R()}aX()}};this.getState=function(){return aZ.state};this.applyState=function(){if(aM){aQ(aZ.state,true)}};this.setPosition=function(a6,a5){if(aM){aU=true;aZ.position=B.strToNum(a6,aZ.position);if(!isFinite(aZ.position)){aZ.position=0}W.stop();if(a5===true){R();aX()}}};this.getPosition=function(){return aZ.position};this.applyPosition=function(){if(aM){aH(aZ.position,true)}};this.setDuration=function(a5,a6){if(aM){aZ.duration=B.strToNum(a5,aZ.duration);if(!isFinite(aZ.duration)){aZ.duration=0}if(a6===true){R();aX()}}};this.getDuration=function(){return aZ.duration};this.setSpeed=function(a5,a6){if(aM){aZ.speed=B.strToNum(a5,aZ.speed);if(a6===true){R();aX()}}};this.getSpeed=function(){return aZ.speed
};this.applySpeed=function(){if(aM){aY(aZ.speed,true)}};this.setEnded=function(a5,a6){if(aM){aZ.ended=B.strToBool(a5,aZ.ended);if(a6===true){R();aX()}}};this.hasEnded=function(){return aZ.ended};this.setVolume=function(a6,a5){if(aM){aZ.volume=B.strToNum(a6,aZ.volume);if(a5===true){R();aX()}}};this.getVolume=function(){return aZ.volume};this.setMuted=function(a5,a6){if(aM){aZ.muted=B.strToBool(a5,aZ.muted);if(a6===true){R();aX()}}};this.isMuted=function(){return aZ.muted};this.applyVolume=function(){if(aM){aI(aZ.volume,true);P(aZ.muted,true)}};this.getWidth=function(){return aZ.width};this.getHeight=function(){return aZ.height};this.applySize=function(){if(aM){al(aZ.width,aZ.height,true)}};this.executeAction=function(a5,a6){if(aM){S(a5,a6)}};this.debug=function(a6,a5){if(aM){aw(a6,a5)}};this.success=function(a6,a5,a7){if(aM){aB(a6,a5,a7)}};this.info=function(a6,a5,a7){if(aM){a3(a6,a5,a7)}};this.warn=function(a6,a5,a7){if(aM){ah(a6,a5,a7)}};this.error=function(a6,a5,a7){if(aM){at(a6,a5,a7)
}};this.showMenu=function(a5){if(aM){aO(a5)}};this.showContent=function(a5){if(aM){aq(a5)}};this.showPanel=function(a5){if(aM){ap(a5)}};this.showPlayer=function(){if(aM){S("player:show")}};this.showAction=function(){if(aM){S("player:action")}};this.hidePlayer=function(){if(aM){S("player:hide")}};this.setupContentLabel=function(a5){if(aM){S("player:label:content:"+B.strFullCheck(a5,"default"))}};this.setupExtensionLabel=function(a5){if(aM){S("player:label:extension:"+B.strFullCheck(a5,"default"))}};this.setupPositionLabel=function(a5){if(aM){S("player:label:position:"+B.strFullCheck(a5,"default"))}};this.setupDurationLabel=function(a5){if(aM){S("player:label:duration:"+B.strFullCheck(a5,"default"))}};this.enableButton=function(a5){if(aM&&B.isId(a5)){S("player:button:"+a5+":enable")}};this.disableButton=function(a5){if(aM&&B.isId(a5)){S("player:button:"+a5+":disable")}};this.focusButton=function(a5){if(aM&&B.isId(a5)){S("player:button:"+a5+":focus")}};this.setupProgressColor=function(a5){if(aM){S("player:progress:color:"+B.strFullCheck(a5,"default"))
}};this.setupProgressType=function(a5){if(aM){S("player:progress:type:"+B.strFullCheck(a5,"default"))}};this.enableProgressMarker=function(){if(aM){S("player:progress:marker:enable")}};this.disableProgressMarker=function(){if(aM){S("player:progress:marker:disable")}};this.invalidateProgressMarker=function(){if(aM){S("player:progress:marker:invalidate")}};this.setupBackground=function(a5){if(aM){S("player:background:"+B.strFullCheck(a5,"default"))}};this.setupTrigger=function(a5,a6,a7){if(aM&&B.isFullStr(a5)&&B.isFullStr(a6)){if(a7===true){S("trigger:"+a5+":shot:"+a6)}else{S("trigger:"+a5+":"+a6)}}};this.clearTrigger=function(a5){if(aM&&B.isFullStr(a5)){S("trigger:"+a5+":none")}};this.refreshPlayer=function(){if(aM){S("player:refresh")}};this.resetPlayer=function(){if(aM){S("player:reset")}};this.cancelResume=function(){if(aM){S("resume:cancel")}};this.requestData=function(a5,a7,a6){if(aM){ao(a5,a7,a6)}else{U(a7,{error:"Plugin not ready"})}};this.requestInteractionResponse=function(a5,a7,a6){if(B.isFullStr(a5)){this.requestData("response:request:interaction:"+a5,a7,a6!=null?{requestData:a6}:null)
}else{U(a7,{error:"Data ID is invalid: '"+a5+"'"})}};this.validateSettings=function(a5){C.invalidateSettings();this.requestData("info",function(a6){C.validateSettings(a6);U(a5,a6)})};this.onValidatedSettings=function(a5){if(!C.areSettingsValidated()&&!aL){aL=true;this.validateSettings(function(){aL=false})}C.onValidatedSettings(a5)};this.triggerEvent=function(a5,a6){if(aM&&B.isFullStr(a5)){S("event:"+a5,a6)}};this.setupSteam=function(a5){ab(a5)};this.createSteam=function(a5){return am(a5)};this.resolveToken=function(a5,a6){return J(a5,a6)};this.transformString=function(a5,a6){return aD(a5,a6)};this.normalizeString=function(a5,a6){return Z(a5,a6)};this.transformStringAsync=function(a7,a8,a6){var a5=aD(a7,a8);if(B.isFullStr(a5)){this.requestData("string:transform:"+a5,function(a9){U(a6,{string:B.strFullCheck(a9.string,null)})})}else{U(a6,{string:null})}};this.normalizeStringAsync=function(a6,a7,a5){if(B.isFullStr(a6)){this.requestData("string:normalize:"+a6,function(a8){U(a5,{string:Z(a8.string,a7)})
})}else{U(a5,{string:null})}};this.createHashKey=function(a5,a6){return t.createHashKey(a5,a6)};this.hasContentObservers=function(){return aT.hasObservers()};this.addContentObserver=function(a5,a6){aT.addObserver(a5,a6);ad(a5)};this.removeContentObserver=function(a5){aT.removeObserver(a5);ad()};this.init=function(){if(!ak){aG();aE();ae()}};this.commit=function(){if(aM){R();aX()}};this.isInitialized=function(){return ak};this.isReady=function(){return aM};this.startPlayback=function(a5){if(aM){aQ(l.PLAYING,true);R();aX();if(a5===true){a1()}}};this.stopPlayback=function(){if(aM){this.setEnded(true);R();Y()}};this.cancelPlayback=function(){if(aM){S("player:eject")}};this.startLoading=function(){if(aM){aC.start(function(){O=true;S("player:busy:start:loading")})}};this.stopLoading=function(){if(aM){aC.stop();if(O){O=false;S("player:busy:stop:loading")}}}};var c=new function(){var K="interactionPlugin";var ap="irq";var af=10;var aI=30000;var X=new z("j3RZ!=Y$M5TZ#JPem'P1i(Tf?X3WcGlyCqNeXRbp02HL]I~r!IfO(pvxQ7At%9yq.5=)wm@0o?Js[sUbUH416uhd;_S/Qr,w7vW]jBgND;GazhCL+D%z~8ni+n-B_E-KK42tl[OAV@*E.Ya6$V,&kF)o&Mg98#'ucx/dk*SF");
var Q=null;var P=false;var ar=new u(1000);var aA=false;var ah=false;var ab=null;var az=false;var aE=null;var Y=function(aM){Q=new z(aM)};var ai=function(aM){if(aA){if(aM=="local"){return Q!=null?Q.createSteam():null}return X.createSteam()}return null};var I=function(aM,aN){if(aA){if(aN=="local"){return Q!=null?Q.resolveToken(aM):null}return X.resolveToken(aM)}return null};var at=function(aM,aN){if(aA){if(aN=="local"){return Q!=null?Q.transformString(aM):null}else{if(aN=="global"){return X.transformString(aM)}else{if(aN=="shared"){return t.transformString(Q!=null?Q.transformString(aM):aM)}}}return X.transformString(Q!=null?Q.transformString(aM):aM)}return null};var W=function(aM,aN){if(aA){if(aN=="local"){return Q!=null?Q.normalizeString(aM):null}else{if(aN=="global"){return X.normalizeString(aM)}else{if(aN=="shared"){return Q!=null?Q.normalizeString(t.normalizeString(aM)):t.normalizeString(aM)}}}return Q!=null?Q.normalizeString(X.normalizeString(aM)):X.normalizeString(aM)}return null};var aJ=0;
var aD={};var ak=function(aO){aJ++;var aM=ap+aJ+"_"+q.getTimestamp();var aN={timeout:new u(aI),callback:aO};aD[aM]=aN;aN.timeout.start(function(){am(aM,{error:"Request timed out"})});return aM};var am=function(aM,aO){if(aM!=null){var aN=aD[aM];if(aN!=null){aN.timeout.stop();delete aD[aM];T(aN.callback,aO)}}};var T=function(aO,aM){if(typeof aO=="function"){try{aO(aM)}catch(aN){ad("Callback error",aN)}}};var aH=new h();var ac=new u(500);var an=null;var av=null;var M=function(aN,aM){return aN!=null&&aM!=null&&aN.start===aM.start&&aN.restored===aM.restored&&aN.visible===aM.visible&&aN.active===aM.active&&aN.menuId===aM.menuId&&aN.menuFocus===aM.menuFocus&&aN.contentId===aM.contentId&&aN.contentFocus===aM.contentFocus};var Z=function(aM){if(aM!=null){if(M(an,aM)){if(!M(av,aM)){av=aM;aH.notifyObservers(aM)}}else{an=aM}}aa()};var ay=function(){if(aA){aj("info:content",function(aM){Z(aM.info!=null&&aM.info.content!=null?aM.info.content.state:null)})}else{aa()}};var aa=function(aM){if(aH.hasObservers()){if(B.isFullStr(aM)&&av!=null){aH.notifyObserver(aM,av)
}ac.start(ay)}else{an=null;av=null;ac.stop()}};var R=function(aM,aN){if(B.isFullStr(aM)){U({action:aM,data:aN!=null?aN:null})}};var au=function(aN,aM){if(B.isFullStr(aN)){if(aM!==false){R("logger:debug:"+aN)}}};var aq=function(aN,aM,aO){if(B.isFullStr(aN)){if(aM!==false){R("logger:success:"+aN,{show:aO!==false})}else{if(aO!==false){R("success:"+aN)}}}};var aL=function(aN,aM,aO){if(B.isFullStr(aN)){if(aM!==false){R("logger:info:"+aN,{show:aO!==false})}else{if(aO!==false){R("info:"+aN)}}}};var ae=function(aN,aM,aO){if(B.isFullStr(aN)){if(aM!==false){R("logger:warn:"+aN,{show:aO!==false})}else{if(aO!==false){R("warn:"+aN)}}}};var al=function(aN,aM,aO){if(B.isFullStr(aN)){if(aM!==false){R("logger:error:"+aN,{show:aO!==false})}else{if(aO!==false){R("error:"+aN)}}}};var N=function(aM,aN){if(B.isFullStr(aM)&&aN!=null){if(typeof aN=="object"){R(aM+":data",aN)}else{R(aM+":"+aN)}}};var aC=function(aM){N("menu",aM)};var V=function(aM){N("content",aM)};var S=function(aM){N("panel",aM)};var aj=function(aM,aO,aN){if(B.isFullStr(aM)){if(aN==null){aN={}
}aN.requestId=ak(aO);aN.dataId=aM;R("interaction:commit:"+aM,aN)}else{T(aO,{error:"Data ID is invalid: '"+aM+"'"})}};var ad=function(aM,aN){if(aM!=null&&aN!=null){if(aN.name!=null&&aN.message!=null){al("Interaction: "+aM+": "+aN.name+": "+aN.message)}else{al("Interaction: "+aM+": "+aN)}}};var ax=function(aM,aN){R("response:"+aM,aN)};var ag=function(aM,aN){am(aM,aN)};var H=function(aN,aM,aP){if(typeof ab.handleRequest=="function"){try{ab.handleRequest(aM,aP,function(aQ){ax(aN,aQ)})}catch(aO){ad("Handle request failed",aO);ax(aN)}}else{ax(aN)}};var aK=function(aN){if(aA&&aN!=null&&ab!=null){if(typeof ab.handleEvent=="function"){try{ab.handleEvent(aN)}catch(aM){ad("Handle event failed",aM)}}}};var ao=function(aQ){if(aA&&aQ!=null&&ab!=null){if(B.isFullStr(aQ.requestId)&&B.isFullStr(aQ.dataId)){H(aQ.requestId,aQ.dataId,aQ.data)}else{if(aQ.data!=null&&B.isFullStr(aQ.data.requestId)&&B.isFullStr(aQ.data.dataId)){var aN={};var aP=aQ.data.dataId;var aM=aP.indexOf(":");if(aM>0){aP=aP.substr(0,aM)
}aN[aP]=aQ[aP]!=null?aQ[aP]:null;aN.error=B.strFullCheck(aQ.error,null);ag(aQ.data.requestId,aN)}else{if(typeof ab.handleData=="function"){try{ab.handleData(aQ)}catch(aO){ad("Handle data failed",aO)}}}}}};var aF=function(aM){aE=aM!=null&&aM.length>0?aM:null};var O=function(){if(aE!=null&&aE.length>0){for(var aM=0;aM<aE.length;aM++){ao(aE[aM])}}aE=null};var aG=function(aM){if(aA&&aM!=null){if(aE==null){aE=[]}if(aE.length>=af){aE.shift()}aE.push(aM)}};var L=function(aM){if(!ah||aM===true){ah=true;if(ab!=null&&typeof ab.init=="function"){try{ab.init()}catch(aN){ad("Call init failed",aN)}}}};var aB=function(aM){if(!aA||aM===true){aA=true;if(ab!=null&&typeof ab.ready=="function"){try{ab.ready()}catch(aN){ad("Call ready failed",aN)}}if(ab!=null){O()}}};var aw=function(){aA=false;window.addEventListener("message",function(aM){if(t.checkOrigin(aM.origin)){J(aM.data)}},false);R("interaction:init")};var J=function(aM){if(ah&&aM!=null&&aM.type===K){if(aM.init===1&&aA){return}if(aM.init===1){aF(aM.data);
aB()}else{if(aM.data!=null){if(B.isFullStr(aM.data.event)){aK(aM.data)}else{if(ab!=null){ao(aM.data)}else{aG(aM.data)}}}}}};var U=function(aN){if(window.parent!=null&&aN!=null){aN.type=K;aN.sender="plugin";aN.target="app";try{window.parent.postMessage(aN,"*")}catch(aM){if(window.console!=null){console.error("Post message failed",aM)}}}};this.setupHandler=function(aM){ab=aM;if(ah){L(true)}if(aA){aB(true)}};this.setLoadingDelay=function(aM){ar.delay=B.strToNum(aM,ar.delay)};this.getLoadingDelay=function(){return ar.delay};this.executeAction=function(aM,aN){if(aA){R(aM,aN)}};this.debug=function(aN,aM){if(aA){au(aN,aM)}};this.success=function(aN,aM,aO){if(aA){aq(aN,aM,aO)}};this.info=function(aN,aM,aO){if(aA){aL(aN,aM,aO)}};this.warn=function(aN,aM,aO){if(aA){ae(aN,aM,aO)}};this.error=function(aN,aM,aO){if(aA){al(aN,aM,aO)}};this.showMenu=function(aM){if(aA){aC(aM)}};this.showContent=function(aM){if(aA){V(aM)}};this.showPanel=function(aM){if(aA){S(aM)}};this.requestData=function(aM,aO,aN){if(aA){aj(aM,aO,aN)
}else{T(aO,{error:"Plugin not ready"})}};this.requestPlayerResponse=function(aM,aO,aN){if(B.isFullStr(aM)){this.requestData("response:request:player:"+aM,aO,aN!=null?{requestData:aN}:null)}else{T(aO,{error:"Data ID is invalid: '"+aM+"'"})}};this.validateSettings=function(aM){C.invalidateSettings();this.requestData("info",function(aN){C.validateSettings(aN);T(aM,aN)})};this.onValidatedSettings=function(aM){if(!C.areSettingsValidated()&&!az){az=true;this.validateSettings(function(){az=false})}C.onValidatedSettings(aM)};this.setupSteam=function(aM){Y(aM)};this.createSteam=function(aM){return ai(aM)};this.resolveToken=function(aM,aN){return I(aM,aN)};this.transformString=function(aM,aN){return at(aM,aN)};this.normalizeString=function(aM,aN){return W(aM,aN)};this.transformStringAsync=function(aO,aP,aN){var aM=at(aO,aP);if(B.isFullStr(aM)){this.requestData("string:transform:"+aM,function(aQ){T(aN,{string:B.strFullCheck(aQ.string,null)})})}else{T(aN,{string:null})}};this.normalizeStringAsync=function(aN,aO,aM){if(B.isFullStr(aN)){this.requestData("string:normalize:"+aN,function(aP){T(aM,{string:W(aP.string,aO)})
})}else{T(aM,{string:null})}};this.createHashKey=function(aM,aN){return t.createHashKey(aM,aN)};this.hasContentObservers=function(){return aH.hasObservers()};this.addContentObserver=function(aM,aN){aH.addObserver(aM,aN);aa(aM)};this.removeContentObserver=function(aM){aH.removeObserver(aM);aa()};this.init=function(){if(!ah){aw();L()}};this.isInitialized=function(){return ah};this.isReady=function(){return aA};this.startLoading=function(){if(aA){ar.start(function(){P=true;R("interaction:busy:start:loading")})}};this.stopLoading=function(){if(aA){ar.stop();if(P){P=false;R("interaction:busy:stop:loading")}}}};return{Settings:k,Styles:E,Tools:B,DateTools:q,DateFormatter:y,PropertyTools:d,VideoState:l,Action:x,Cookies:w,Storage:p,UrlParams:f,Options:b,Observers:h,EventObservers:m,Queue:G,Worker:e,Delay:u,Click:s,Ajax:r,LogLevel:o,Logger:n,Dictionary:F,Clock:a,Services:D,DataLoader:i,DataService:A,BlobService:v,RequestService:g,PluginTools:C,VideoPlugin:j,InteractionPlugin:c}}));